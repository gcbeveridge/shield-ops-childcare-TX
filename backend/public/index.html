<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shield Ops - Child Care Safety Platform</title>
    <!-- External CSS -->
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <!-- Mobile Hamburger Menu Button -->
    <button class="hamburger" id="hamburger" onclick="toggleMobileMenu()" style="display: none;">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <!-- Mobile Overlay -->
    <div class="mobile-overlay" id="mobile-overlay" onclick="closeMobileMenu()"></div>

    <!-- Login Screen -->
    <div id="login-screen" class="auth-container">
        <div class="auth-card">
            <div class="auth-logo">
                <div class="auth-logo-icon">
                    <img src="attached_assets/shield CHAMPION LOGO OYR (4)_1759763234301.png" alt="Shield Ops Logo"
                        style="width: 120px; height: auto;">
                </div>
                <h1>Shield Ops</h1>
                <p>Child Care Safety Platform</p>
            </div>
            <form onsubmit="login(event)">
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input id="login-email" type="email" class="form-input" placeholder="you@example.com" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <input id="login-password" type="password" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                </div>
                <button type="submit" class="btn btn-primary">Sign In</button>
            </form>
            <div class="auth-footer">
                Don't have an account? <a href="javascript:void(0);" onclick="showSignup()">Sign Up</a>
            </div>
        </div>
    </div>

    <!-- Signup Screen -->
    <div id="signup-screen" class="auth-container" style="display: none;">
        <div class="auth-card">
            <div class="auth-logo">
                <div class="auth-logo-icon">
                    <img src="attached_assets/shield CHAMPION LOGO OYR (4)_1759763234301.png" alt="Shield Ops Logo"
                        style="width: 120px; height: auto;">
                </div>
                <h1>Shield Ops</h1>
                <p>Create Your Account</p>
            </div>
            <form onsubmit="signup(event)">
                <div class="form-group">
                    <label class="form-label">Your Name</label>
                    <input id="signup-name" type="text" class="form-input" placeholder="John Doe" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Facility Name</label>
                    <input id="signup-facility" type="text" class="form-input"
                        placeholder="Bright Futures Learning Center" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Location</label>
                    <input id="signup-address" type="text" class="form-input" placeholder="Austin, TX">
                </div>
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input id="signup-email" type="email" class="form-input" placeholder="you@example.com" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <input id="signup-password" type="password" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                </div>
                <button type="submit" class="btn btn-primary">Create Account</button>
            </form>
            <div class="auth-footer">
                Already have an account? <a href="javascript:void(0);" onclick="showLogin()">Sign In</a>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="app" class="app-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo-section">
                <div class="logo">
                    <div class="logo-icon">
                        <img src="attached_assets/shield CHAMPION LOGO OYR (4)_1759763234301.png" alt="Shield Ops Logo"
                            style="height: 40px; width: auto;">
                    </div>
                    <div class="logo-text">
                        <h1>Shield Ops</h1>
                        <p>Safety Platform</p>
                    </div>
                </div>
            </div>

            <div class="facility-info">
                <h3>Bright Futures Learning Center</h3>
                <p>üìç Austin, TX</p>
            </div>

            <div class="nav-menu">
                <div class="nav-section-title">Overview</div>
                <div class="nav-item active" onclick="showScreen('dashboard')">
                    <span>üìä</span>
                    <span>Dashboard</span>
                </div>

                <div class="nav-section-title">Compliance</div>
                <div class="nav-item" onclick="showScreen('licensing')">
                    <span>üìã</span>
                    <span>State Licensing</span>
                    <span class="nav-badge">18</span>
                </div>

                <div class="nav-section-title">Operations</div>
                <div class="nav-item" onclick="showScreen('training')">
                    <span>üìö</span>
                    <span>Training Hub</span>
                </div>
                <div class="nav-item" onclick="showScreen('staff')">
                    <span>üë•</span>
                    <span>Staff Management</span>
                    <span class="nav-badge">3</span>
                </div>
                <div class="nav-item" onclick="showScreen('incidents')">
                    <span>üö®</span>
                    <span>Incident Reports</span>
                </div>
                <div class="nav-item" onclick="showScreen('checklist')">
                    <span>‚úì</span>
                    <span>Daily Checklist</span>
                </div>
                <div class="nav-item" onclick="showScreen('documents')">
                    <span>üìÅ</span>
                    <span>Document Vault</span>
                    <span class="nav-badge">5</span>
                </div>
                <div class="nav-item" onclick="showScreen('medication')">
                    <span>üíä</span>
                    <span>Medication Tracking</span>
                </div>
            </div>

            <div class="user-menu" onclick="logout()">
                <div class="user-info">
                    <div class="user-avatar">JD</div>
                    <div class="user-details">
                        <h4>John Doe</h4>
                        <p>Logout</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Dashboard Screen (Modern CAC-Style) -->
            <div id="dashboard" class="screen active">
                <!-- Header -->
                <div
                    style="background: white; padding: 20px 32px; border-bottom: 1px solid #e5e7eb; display: flex; justify-content: space-between; align-items: center; margin: -24px -24px 24px -24px;">
                    <div>
                        <h1 style="font-size: 24px; font-weight: 700; margin: 0; color: #111827;"
                            id="dashboard-greeting">Welcome back!</h1>
                        <p style="font-size: 14px; color: #6b7280; margin: 4px 0 0 0;">Here's your facility status for
                            today</p>
                    </div>
                    <div style="display: flex; align-items: center; gap: 16px;">
                        <div id="weather-widget-placeholder"></div>
                        <div id="user-avatar"
                            style="width: 40px; height: 40px; background: #e0e7ff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; color: #4f46e5; cursor: pointer;">
                            SC
                        </div>
                    </div>
                </div>

                <div style="padding: 0px;">
                    <!-- Weather Alert Widget -->
                    <div id="weather-alert-widget"
                        style="display: none; background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); border-radius: 16px; padding: 24px; margin-bottom: 24px; color: white; cursor: pointer;">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                            <span id="weather-icon" style="font-size: 32px;"></span>
                            <div style="flex: 1;">
                                <div style="font-size: 18px; font-weight: 700;" id="weather-title"></div>
                                <div style="font-size: 14px; opacity: 0.9;" id="weather-location"></div>
                            </div>
                            <div style="font-size: 36px; font-weight: 700;" id="weather-temp"></div>
                        </div>
                        <div style="font-size: 14px; opacity: 0.95; line-height: 1.5;" id="weather-recommendation">
                        </div>
                    </div>

                    <!-- Combined Safety Score + Streak -->
                    <div
                        style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 16px; padding: 32px; margin-bottom: 24px; color: white; box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div style="flex: 1;">
                                <div style="font-size: 14px; opacity: 0.9; margin-bottom: 8px;">Overall Safety
                                    Performance</div>
                                <div style="display: flex; align-items: baseline; gap: 12px;">
                                    <div style="font-size: 64px; font-weight: 700; line-height: 1;"
                                        id="risk-score-display">87</div>
                                    <div style="font-size: 20px; font-weight: 600;" id="risk-rating-display">Excellent
                                    </div>
                                </div>
                                <div style="font-size: 14px; opacity: 0.9; margin-top: 8px;" id="risk-change-display">‚Üë
                                    3 from last month</div>
                            </div>
                            <div style="text-align: right;">
                                <div style="font-size: 48px; font-weight: 700; line-height: 1; margin-bottom: 8px;"
                                    id="streak-days-display">15</div>
                                <div style="font-size: 14px; opacity: 0.9;">Days Incident-Free</div>
                                <div
                                    style="background: rgba(255,255,255,0.2); border-radius: 8px; padding: 8px 16px; margin-top: 12px; font-size: 12px;">
                                    ‚≠ê Next Goal: <span id="next-goal-display">30 Day Safety Star</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Attention Needed Section -->
                    <div id="attention-section" style="display: none; margin-bottom: 32px;">
                        <h2 style="font-size: 18px; font-weight: 700; color: #111827; margin-bottom: 16px;">üîî Attention
                            Needed</h2>
                        <div id="attention-alerts-container" style="display: flex; flex-direction: column; gap: 12px;">
                        </div>
                    </div>

                    <!-- Today's Priorities -->
                    <div style="margin-bottom: 32px;">
                        <h2 style="font-size: 18px; font-weight: 700; color: #111827; margin-bottom: 16px;">üìÖ Today's
                            Priorities</h2>
                        <div
                            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px;">
                            <!-- Missing Docs Card -->
                            <div id="priority-missing-docs"
                                style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); border-radius: 12px; padding: 24px; color: white; box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3); cursor: pointer;"
                                onclick="showScreen('documents')">
                                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                                    <div
                                        style="width: 48px; height: 48px; background: rgba(255,255,255,0.2); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px;">
                                        ‚ö†Ô∏è
                                    </div>
                                    <div style="flex: 1;">
                                        <div style="font-size: 12px; opacity: 0.9;">Critical</div>
                                        <div style="font-size: 18px; font-weight: 700;">Missing Documents</div>
                                    </div>
                                </div>
                                <div style="font-size: 14px; opacity: 0.95; margin-bottom: 16px;"
                                    id="missing-docs-description">Required facility documents not on file</div>
                                <div
                                    style="background: white; color: #ef4444; text-align: center; padding: 10px; border-radius: 8px; font-weight: 600; font-size: 14px;">
                                    Upload Now
                                </div>
                            </div>

                            <!-- Expired Docs Card -->
                            <div id="priority-expired-docs"
                                style="background: linear-gradient(135deg, #f97316 0%, #ea580c 100%); border-radius: 12px; padding: 24px; color: white; box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3); cursor: pointer;"
                                onclick="showScreen('documents')">
                                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                                    <div
                                        style="width: 48px; height: 48px; background: rgba(255,255,255,0.2); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px;">
                                        üìÖ
                                    </div>
                                    <div style="flex: 1;">
                                        <div style="font-size: 12px; opacity: 0.9;">Urgent</div>
                                        <div style="font-size: 18px; font-weight: 700;">Expired Documents</div>
                                    </div>
                                </div>
                                <div style="font-size: 14px; opacity: 0.95; margin-bottom: 16px;"
                                    id="expired-docs-description">Documents need renewal immediately</div>
                                <div
                                    style="background: white; color: #f97316; text-align: center; padding: 10px; border-radius: 8px; font-weight: 600; font-size: 14px;">
                                    Renew Now
                                </div>
                            </div>

                            <!-- Missing Signatures Card -->
                            <div id="priority-signatures"
                                style="background: linear-gradient(135deg, #eab308 0%, #ca8a04 100%); border-radius: 12px; padding: 24px; color: white; box-shadow: 0 4px 12px rgba(234, 179, 8, 0.3); cursor: pointer;"
                                onclick="showScreen('incidents')">
                                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                                    <div
                                        style="width: 48px; height: 48px; background: rgba(255,255,255,0.2); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px;">
                                        ‚úçÔ∏è
                                    </div>
                                    <div style="flex: 1;">
                                        <div style="font-size: 12px; opacity: 0.9;">Pending</div>
                                        <div style="font-size: 18px; font-weight: 700;">Missing Signatures</div>
                                    </div>
                                </div>
                                <div style="font-size: 14px; opacity: 0.95; margin-bottom: 16px;"
                                    id="signatures-description">Incident reports awaiting parent signatures</div>
                                <div
                                    style="background: white; color: #eab308; text-align: center; padding: 10px; border-radius: 8px; font-weight: 600; font-size: 14px;">
                                    Get Signatures
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div style="margin-bottom: 32px;">
                        <h2 style="font-size: 18px; font-weight: 700; color: #111827; margin-bottom: 16px;">‚ö° Quick
                            Actions</h2>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;"
                            id="quick-actions-container">
                            <button onclick="openModal('new-incident')"
                                style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 20px; border-radius: 12px; cursor: pointer; text-align: left; transition: transform 0.2s, box-shadow 0.2s; box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);"
                                class="quick-action-btn">
                                <div style="font-size: 28px; margin-bottom: 8px;">üö®</div>
                                <div style="font-size: 15px; font-weight: 600; margin-bottom: 4px;">Log Incident</div>
                                <div style="font-size: 12px; opacity: 0.9;">Document injury or illness</div>
                            </button>

                            <button onclick="openModal('administer-medication')"
                                style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; border: none; padding: 20px; border-radius: 12px; cursor: pointer; text-align: left; transition: transform 0.2s, box-shadow 0.2s; box-shadow: 0 4px 12px rgba(245, 87, 108, 0.3);"
                                class="quick-action-btn">
                                <div style="font-size: 28px; margin-bottom: 8px;">üíä</div>
                                <div style="font-size: 15px; font-weight: 600; margin-bottom: 4px;">Log Medication</div>
                                <div style="font-size: 12px; opacity: 0.9;">Record dose given</div>
                            </button>

                            <button onclick="showScreen('documents')"
                                style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; border: none; padding: 20px; border-radius: 12px; cursor: pointer; text-align: left; transition: transform 0.2s, box-shadow 0.2s; box-shadow: 0 4px 12px rgba(79, 172, 254, 0.3);"
                                class="quick-action-btn">
                                <div style="font-size: 28px; margin-bottom: 8px;">üìÅ</div>
                                <div style="font-size: 15px; font-weight: 600; margin-bottom: 4px;">Upload Document
                                </div>
                                <div style="font-size: 12px; opacity: 0.9;">Add certificates</div>
                            </button>

                            <button onclick="showScreen('staff')"
                                style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); color: white; border: none; padding: 20px; border-radius: 12px; cursor: pointer; text-align: left; transition: transform 0.2s, box-shadow 0.2s; box-shadow: 0 4px 12px rgba(67, 233, 123, 0.3);"
                                class="quick-action-btn">
                                <div style="font-size: 28px; margin-bottom: 8px;">üë•</div>
                                <div style="font-size: 15px; font-weight: 600; margin-bottom: 4px;">Manage Staff</div>
                                <div style="font-size: 12px; opacity: 0.9;">View staff records</div>
                            </button>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div>
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                            <h2 style="font-size: 18px; font-weight: 700; color: #111827;">Recent Activity</h2>
                            <a href="#"
                                style="color: #3b82f6; text-decoration: none; font-size: 14px; font-weight: 600;">View
                                All ‚Üí</a>
                        </div>
                        <div style="background: white; border-radius: 12px; border: 1px solid #e5e7eb; padding: 20px;"
                            id="recent-activity-container">
                            <!-- Recent activity items will be inserted here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- State Licensing Screen -->
            <div id="licensing" class="screen">
                <div class="page-header">
                    <h1 class="page-title">State Licensing üìã</h1>
                    <p class="page-subtitle">Texas Child Care Minimum Standards Compliance</p>
                </div>

                <div class="card">
                    <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 12px;">Overall Compliance</h3>
                    <div style="font-size: 32px; font-weight: 700; color: var(--gray-900);">94%</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 94%;"></div>
                    </div>
                    <p style="font-size: 13px; color: var(--gray-700);">11 of 12 requirements complete</p>
                </div>

                <div class="card">
                    <div class="tabs">
                        <button class="tab active" onclick="filterRequirements('all')">All (12)</button>
                        <button class="tab" onclick="filterRequirements('complete')">Complete (11)</button>
                        <button class="tab" onclick="filterRequirements('pending')">Pending (1)</button>
                        <button class="tab" onclick="filterRequirements('overdue')">Overdue (0)</button>
                    </div>

                    <table class="table">
                        <thead>
                            <tr>
                                <th>Requirement</th>
                                <th>Category</th>
                                <th>Priority</th>
                                <th>Due Date</th>
                                <th>Status</th>
                                <th>Complete</th>
                            </tr>
                        </thead>
                        <tbody id="requirements-table">
                            <tr class="requirement-row" data-status="complete">
                                <td><strong>Orientation Training</strong><br><small>Emergency procedures, abuse
                                        reporting, policies</small></td>
                                <td>üìö Staff Training</td>
                                <td><span class="badge badge-medium">Medium-High</span></td>
                                <td>Within 7 days</td>
                                <td><span class="badge badge-complete">Complete</span></td>
                                <td><input type="checkbox" class="checkbox" checked disabled></td>
                            </tr>
                            <tr class="requirement-row" data-status="complete">
                                <td><strong>Pre-Service Training</strong><br><small>8 clock hours on child development &
                                        safety</small></td>
                                <td>üìö Staff Training</td>
                                <td><span class="badge badge-medium">Medium-High</span></td>
                                <td>Within 90 days</td>
                                <td><span class="badge badge-complete">Complete</span></td>
                                <td><input type="checkbox" class="checkbox" checked disabled></td>
                            </tr>
                            <tr class="requirement-row" data-status="complete">
                                <td><strong>Pediatric First Aid</strong><br><small>All staff must have current
                                        certification</small></td>
                                <td>üìö Staff Training</td>
                                <td><span class="badge badge-medium">Medium-High</span></td>
                                <td>Within 90 days</td>
                                <td><span class="badge badge-complete">Complete</span></td>
                                <td><input type="checkbox" class="checkbox" checked disabled></td>
                            </tr>
                            <tr class="requirement-row" data-status="complete">
                                <td><strong>Pediatric CPR</strong><br><small>AHA guidelines, must stay current</small>
                                </td>
                                <td>üìö Staff Training</td>
                                <td><span class="badge badge-medium">Medium-High</span></td>
                                <td>Within 90 days</td>
                                <td><span class="badge badge-complete">Complete</span></td>
                                <td><input type="checkbox" class="checkbox" checked disabled></td>
                            </tr>
                            <tr class="requirement-row" data-status="complete">
                                <td><strong>Annual Training - Caregivers</strong><br><small>15 clock hours covering 8
                                        required topics</small></td>
                                <td>üìö Staff Training</td>
                                <td><span class="badge badge-medium">Medium-High</span></td>
                                <td>Annually</td>
                                <td><span class="badge badge-complete">Complete</span></td>
                                <td><input type="checkbox" class="checkbox" checked disabled></td>
                            </tr>
                            <tr class="requirement-row" data-status="pending">
                                <td><strong>Annual Training - Directors</strong><br><small>20 clock hours including
                                        management training</small></td>
                                <td>üìö Staff Training</td>
                                <td><span class="badge badge-medium">Medium-High</span></td>
                                <td>Dec 15, 2025</td>
                                <td><span class="badge badge-pending">Pending</span></td>
                                <td><input type="checkbox" class="checkbox"></td>
                            </tr>
                            <tr class="requirement-row" data-status="complete">
                                <td><strong>Transportation Safety Training</strong><br><small>2 clock hours for drivers
                                        (if applicable)</small></td>
                                <td>üìö Staff Training</td>
                                <td><span class="badge badge-medium">Medium-High</span></td>
                                <td>Annually</td>
                                <td><span class="badge badge-complete">Complete</span></td>
                                <td><input type="checkbox" class="checkbox" checked disabled></td>
                            </tr>
                            <tr class="requirement-row" data-status="complete">
                                <td><strong>Background Checks</strong><br><small>Criminal history & sex offender
                                        registry</small></td>
                                <td>üè¢ Facility</td>
                                <td><span class="badge badge-high">High</span></td>
                                <td>Before hire</td>
                                <td><span class="badge badge-complete">Complete</span></td>
                                <td><input type="checkbox" class="checkbox" checked disabled></td>
                            </tr>
                            <tr class="requirement-row" data-status="complete">
                                <td><strong>Tuberculosis Screening</strong><br><small>Risk assessment for all
                                        employees</small></td>
                                <td>üè¢ Facility</td>
                                <td><span class="badge badge-medium">Medium</span></td>
                                <td>At hire</td>
                                <td><span class="badge badge-complete">Complete</span></td>
                                <td><input type="checkbox" class="checkbox" checked disabled></td>
                            </tr>
                            <tr class="requirement-row" data-status="complete">
                                <td><strong>Child Health Records</strong><br><small>Immunizations, health statements,
                                        care plans</small></td>
                                <td>‚öôÔ∏è Operational</td>
                                <td><span class="badge badge-medium">Medium</span></td>
                                <td>At enrollment</td>
                                <td><span class="badge badge-complete">Complete</span></td>
                                <td><input type="checkbox" class="checkbox" checked disabled></td>
                            </tr>
                            <tr class="requirement-row" data-status="complete">
                                <td><strong>Attendance Records</strong><br><small>Daily sign-in/out & employee
                                        timesheets</small></td>
                                <td>‚öôÔ∏è Operational</td>
                                <td><span class="badge badge-low">Medium-Low</span></td>
                                <td>Daily</td>
                                <td><span class="badge badge-complete">Complete</span></td>
                                <td><input type="checkbox" class="checkbox" checked disabled></td>
                            </tr>
                            <tr class="requirement-row" data-status="complete">
                                <td><strong>Minimum Caregiver Qualifications</strong><br><small>High school diploma, 18+
                                        years old</small></td>
                                <td>‚öôÔ∏è Operational</td>
                                <td><span class="badge badge-medium">Medium</span></td>
                                <td>At hire</td>
                                <td><span class="badge badge-complete">Complete</span></td>
                                <td><input type="checkbox" class="checkbox" checked disabled></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Training Hub Screen -->
            <div id="training" class="screen">
                <div class="page-header">
                    <h1 class="page-title">Training Hub üìö</h1>
                    <p class="page-subtitle">12-Month Safety & Compliance Curriculum</p>
                </div>

                <div class="card"
                    style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));">
                    <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">Current Month: October 2025</h3>
                    <p style="font-size: 14px; color: var(--gray-700); margin-bottom: 16px;">Module: OSHA Compliance
                        Review</p>
                    <div style="display: flex; gap: 16px; align-items: center;">
                        <div style="flex: 1;">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 100%;"></div>
                            </div>
                        </div>
                        <div style="font-size: 24px; font-weight: 700; color: var(--success);">100%</div>
                    </div>
                    <p style="font-size: 13px; color: var(--gray-700); margin-top: 8px;">All 15 staff members completed
                        ‚úì</p>
                </div>

                <div class="training-grid">
                    <div class="training-card complete">
                        <div class="training-month">January</div>
                        <div class="training-title">Emergency Preparedness & Fire Safety</div>
                        <div class="training-completion">‚úì Complete - 15/15 staff</div>
                    </div>
                    <div class="training-card complete">
                        <div class="training-month">February</div>
                        <div class="training-title">Child Protection & Abuse Prevention</div>
                        <div class="training-completion">‚úì Complete - 15/15 staff</div>
                    </div>
                    <div class="training-card complete">
                        <div class="training-month">March</div>
                        <div class="training-title">First Aid & Medical Emergencies</div>
                        <div class="training-completion">‚úì Complete - 15/15 staff</div>
                    </div>
                    <div class="training-card complete">
                        <div class="training-month">April</div>
                        <div class="training-title">Food Safety & Allergy Management</div>
                        <div class="training-completion">‚úì Complete - 15/15 staff</div>
                    </div>
                    <div class="training-card complete">
                        <div class="training-month">May</div>
                        <div class="training-title">Playground Safety & Equipment Inspection</div>
                        <div class="training-completion">‚úì Complete - 15/15 staff</div>
                    </div>
                    <div class="training-card complete">
                        <div class="training-month">June</div>
                        <div class="training-title">Water Safety & Summer Protocols</div>
                        <div class="training-completion">‚úì Complete - 15/15 staff</div>
                    </div>
                    <div class="training-card complete">
                        <div class="training-month">July</div>
                        <div class="training-title">Active Threat Response</div>
                        <div class="training-completion">‚úì Complete - 15/15 staff</div>
                    </div>
                    <div class="training-card complete">
                        <div class="training-month">August</div>
                        <div class="training-title">Health & Illness Management</div>
                        <div class="training-completion">‚úì Complete - 15/15 staff</div>
                    </div>
                    <div class="training-card complete">
                        <div class="training-month">September</div>
                        <div class="training-title">Transportation Safety</div>
                        <div class="training-completion">‚úì Complete - 15/15 staff</div>
                    </div>
                    <div class="training-card complete">
                        <div class="training-month">October</div>
                        <div class="training-title">OSHA Compliance Review</div>
                        <div class="training-completion">‚úì Complete - 15/15 staff</div>
                    </div>
                    <div class="training-card">
                        <div class="training-month">November</div>
                        <div class="training-title">Severe Weather Preparedness</div>
                        <div class="training-completion">Coming soon</div>
                    </div>
                    <div class="training-card">
                        <div class="training-month">December</div>
                        <div class="training-title">Holiday Safety & Year-End Review</div>
                        <div class="training-completion">Coming soon</div>
                    </div>
                </div>
            </div>

            <!-- Staff Management Screen -->
            <div id="staff" class="screen">
                <div class="page-header">
                    <h1 class="page-title">Staff Management üë•</h1>
                    <p class="page-subtitle">Track certifications and training compliance</p>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Staff Roster</h2>
                        <div style="display: flex; gap: 8px;">
                            <button class="btn-small btn-secondary-small" onclick="openModal('import-staff-csv')">
                                üì§ Import CSV
                            </button>
                            <button class="btn-small btn-primary-small" onclick="openModal('add-staff')">+ Add
                                Staff</button>
                        </div>
                    </div>

                    <table class="table data-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Role</th>
                                <th>CPR</th>
                                <th>First Aid</th>
                                <th>CDA</th>
                                <th>Teaching Cert</th>
                                <th>Food Handler</th>
                                <th>Background</th>
                                <th>Training</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Sarah Johnson</strong></td>
                                <td>Lead Teacher</td>
                                <td>Jan 15, 2023</td>
                                <td><span class="badge badge-complete">Valid</span></td>
                                <td><span class="badge badge-complete">Valid</span></td>
                                <td><span class="badge badge-complete">Clear</span></td>
                                <td>100%</td>
                            </tr>
                            <tr>
                                <td><strong>Michael Chen</strong></td>
                                <td>Teacher</td>
                                <td>Mar 22, 2023</td>
                                <td><span class="badge badge-complete">Valid</span></td>
                                <td><span class="badge badge-complete">Valid</span></td>
                                <td><span class="badge badge-complete">Clear</span></td>
                                <td>100%</td>
                            </tr>
                            <tr>
                                <td><strong>Emily Rodriguez</strong></td>
                                <td>Assistant Teacher</td>
                                <td>Jun 10, 2024</td>
                                <td><span class="badge" style="background: #fef3c7; color: #92400e;">Exp Nov 15</span>
                                </td>
                                <td><span class="badge badge-complete">Valid</span></td>
                                <td><span class="badge badge-complete">Clear</span></td>
                                <td>100%</td>
                            </tr>
                            <tr>
                                <td><strong>David Martinez</strong></td>
                                <td>Teacher</td>
                                <td>Sep 5, 2022</td>
                                <td><span class="badge badge-complete">Valid</span></td>
                                <td><span class="badge" style="background: #fef3c7; color: #92400e;">Exp Nov 28</span>
                                </td>
                                <td><span class="badge badge-complete">Clear</span></td>
                                <td>100%</td>
                            </tr>
                            <tr>
                                <td><strong>Lisa Thompson</strong></td>
                                <td>Director</td>
                                <td>Feb 1, 2021</td>
                                <td><span class="badge badge-complete">Valid</span></td>
                                <td><span class="badge badge-complete">Valid</span></td>
                                <td><span class="badge badge-complete">Clear</span></td>
                                <td>95%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Incident Reports Screen -->
            <div id="incidents" class="screen">
                <div class="page-header">
                    <h1 class="page-title">Incident Reports üö®</h1>
                    <p class="page-subtitle">Document and track all incidents and illnesses</p>
                </div>

                <div class="card"
                    style="background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(239, 68, 68, 0.05));">
                    <div
                        style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;">
                        <div>
                            <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">Pattern Alert</h3>
                            <p style="font-size: 14px; color: var(--gray-700);">3 playground falls reported this month -
                                above average</p>
                        </div>
                        <button class="btn-small btn-primary-small" onclick="openModal('new-incident')">+ Log New
                            Incident</button>
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
                        <div style="text-align: center; padding: 16px; background: white; border-radius: 8px;">
                            <div style="font-size: 24px; font-weight: 700; color: var(--gray-900);">8</div>
                            <div style="font-size: 13px; color: var(--gray-700);">Incidents This Month</div>
                        </div>
                        <div style="text-align: center; padding: 16px; background: white; border-radius: 8px;">
                            <div style="font-size: 24px; font-weight: 700; color: var(--success);">100%</div>
                            <div style="font-size: 13px; color: var(--gray-700);">Parent Notified</div>
                        </div>
                        <div style="text-align: center; padding: 16px; background: white; border-radius: 8px;">
                            <div style="font-size: 24px; font-weight: 700; color: var(--success);">100%</div>
                            <div style="font-size: 13px; color: var(--gray-700);">Signatures Obtained</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="tabs">
                        <button class="tab active" onclick="filterIncidents('all')">All Incidents</button>
                        <button class="tab" onclick="filterIncidents('injury')">Injuries</button>
                        <button class="tab" onclick="filterIncidents('illness')">Illness</button>
                        <button class="tab" onclick="filterIncidents('behavior')">Behavior</button>
                    </div>

                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Date/Time</th>
                                <th>Child</th>
                                <th>Type</th>
                                <th>Severity</th>
                                <th>Description</th>
                                <th>Parent Signature</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Populated by loadIncidentList() -->
                        </tbody>
                    </table>
                </div>
                <td><span class="badge badge-low">Behavior</span></td>
                <td>Conflict with peer, redirected successfully</td>
                <td>David Martinez</td>
                <td><span class="badge badge-complete">‚úì Notified</span></td>
                <td><span class="badge badge-complete">Signed</span></td>
                </tr>
                <tr>
                    <td>Oct 8, 2025<br><small>1:45 PM</small></td>
                    <td><strong>Sophia L.</strong></td>
                    <td><span class="badge badge-high">Injury</span></td>
                    <td>Small cut on finger, Band-Aid applied</td>
                    <td>Sarah Johnson</td>
                    <td><span class="badge badge-complete">‚úì Notified</span></td>
                    <td><span class="badge badge-complete">Signed</span></td>
                </tr>
                <tr>
                    <td>Oct 5, 2025<br><small>10:15 AM</small></td>
                    <td><strong>Jackson P.</strong></td>
                    <td><span class="badge badge-medium">Illness</span></td>
                    <td>Stomach ache, parent picked up early</td>
                    <td>Michael Chen</td>
                    <td><span class="badge badge-complete">‚úì Notified</span></td>
                    <td><span class="badge badge-complete">Signed</span></td>
                </tr>
                <tr>
                    <td>Oct 3, 2025<br><small>2:20 PM</small></td>
                    <td><strong>Ava W.</strong></td>
                    <td><span class="badge badge-high">Injury</span></td>
                    <td>Scraped elbow on playground slide</td>
                    <td>Emily Rodriguez</td>
                    <td><span class="badge badge-complete">‚úì Notified</span></td>
                    <td><span class="badge badge-complete">Signed</span></td>
                </tr>
                <tr>
                    <td>Oct 1, 2025<br><small>4:00 PM</small></td>
                    <td><strong>Mason T.</strong></td>
                    <td><span class="badge badge-high">Injury</span></td>
                    <td>Twisted ankle during outdoor play</td>
                    <td>David Martinez</td>
                    <td><span class="badge badge-complete">‚úì Notified</span></td>
                    <td><span class="badge badge-complete">Signed</span></td>
                </tr>
                </tbody>
                </table>
            </div>
        </div>

        <!-- Daily Checklist Screen -->
        <div id="checklist" class="screen">
            <div class="page-header">
                <h1 class="page-title">Daily Checklist ‚úì</h1>
                <p class="page-subtitle">Complete required daily tasks and maintain audit trail</p>
            </div>

            <div class="card"
                style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(16, 185, 129, 0.05));">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                    <div>
                        <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 4px;">Friday, October 3, 2025</h3>
                        <p style="font-size: 14px; color: var(--gray-700);">18 of 20 tasks completed (90%)</p>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 36px; font-weight: 700; color: var(--success);">90%</div>
                        <div style="font-size: 13px; color: var(--gray-700);">Completion</div>
                    </div>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 90%;"></div>
                </div>
            </div>

            <div class="card">
                <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 16px;">üìä Weekly Completion Trend</h3>
                <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px;">
                    <div style="text-align: center;">
                        <div style="font-size: 11px; color: var(--gray-700); margin-bottom: 8px;">MON</div>
                        <div
                            style="height: 80px; background: var(--success); border-radius: 6px; display: flex; align-items: end; justify-content: center; padding: 8px;">
                            <span style="color: white; font-weight: 600; font-size: 13px;">100%</span>
                        </div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 11px; color: var(--gray-700); margin-bottom: 8px;">TUE</div>
                        <div
                            style="height: 80px; background: var(--success); border-radius: 6px; display: flex; align-items: end; justify-content: center; padding: 8px;">
                            <span style="color: white; font-weight: 600; font-size: 13px;">95%</span>
                        </div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 11px; color: var(--gray-700); margin-bottom: 8px;">WED</div>
                        <div
                            style="height: 80px; background: var(--success); border-radius: 6px; display: flex; align-items: end; justify-content: center; padding: 8px;">
                            <span style="color: white; font-weight: 600; font-size: 13px;">100%</span>
                        </div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 11px; color: var(--gray-700); margin-bottom: 8px;">THU</div>
                        <div
                            style="height: 80px; background: var(--warning); border-radius: 6px; display: flex; align-items: end; justify-content: center; padding: 8px;">
                            <span style="color: white; font-weight: 600; font-size: 13px;">85%</span>
                        </div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 11px; color: var(--gray-700); margin-bottom: 8px;">FRI</div>
                        <div
                            style="height: 80px; background: var(--success); border-radius: 6px; display: flex; align-items: end; justify-content: center; padding: 8px; opacity: 0.7;">
                            <span style="color: white; font-weight: 600; font-size: 13px;">90%</span>
                        </div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 11px; color: var(--gray-700); margin-bottom: 8px;">SAT</div>
                        <div
                            style="height: 80px; background: var(--gray-200); border-radius: 6px; display: flex; align-items: center; justify-content: center;">
                            <span style="color: var(--gray-700); font-size: 11px;">Pending</span>
                        </div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 11px; color: var(--gray-700); margin-bottom: 8px;">SUN</div>
                        <div
                            style="height: 80px; background: var(--gray-200); border-radius: 6px; display: flex; align-items: center; justify-content: center;">
                            <span style="color: var(--gray-700); font-size: 11px;">Closed</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 20px;">Today's Checklist - October 3, 2025
                </h3>

                <!-- Morning Safety -->
                <div style="margin-bottom: 24px;">
                    <h4 style="font-size: 14px; font-weight: 600; color: var(--primary); margin-bottom: 12px;">üåÖ
                        Morning Safety Walk (6:00 AM - 7:00 AM)</h4>
                    <div style="display: flex; flex-direction: column; gap: 12px;">
                        <div
                            style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px;">
                            <input type="checkbox" class="checkbox" checked disabled>
                            <div style="flex: 1;">
                                <strong style="font-size: 14px;">Facility Inspection</strong>
                                <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Check all rooms
                                    for hazards, broken equipment, tripping hazards</div>
                                <div style="font-size: 12px; color: var(--success); margin-top: 4px;">‚úì Completed by
                                    Sarah J. at 6:15 AM ‚Ä¢ 2 photos uploaded</div>
                            </div>
                        </div>
                        <div
                            style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px;">
                            <input type="checkbox" class="checkbox" checked disabled>
                            <div style="flex: 1;">
                                <strong style="font-size: 14px;">Emergency Exits Clear</strong>
                                <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Verify all
                                    emergency exits are unobstructed and functional</div>
                                <div style="font-size: 12px; color: var(--success); margin-top: 4px;">‚úì Completed by
                                    Sarah J. at 6:18 AM</div>
                            </div>
                        </div>
                        <div
                            style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px;">
                            <input type="checkbox" class="checkbox" checked disabled>
                            <div style="flex: 1;">
                                <strong style="font-size: 14px;">Playground Inspection</strong>
                                <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Check equipment
                                    for damage, debris, drainage, surfacing material</div>
                                <div style="font-size: 12px; color: var(--success); margin-top: 4px;">‚úì Completed by
                                    Michael C. at 6:30 AM ‚Ä¢ 1 photo uploaded</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Daily Operations -->
                <div style="margin-bottom: 24px;">
                    <h4 style="font-size: 14px; font-weight: 600; color: var(--primary); margin-bottom: 12px;">üìã Daily
                        Operations (All Day)</h4>
                    <div style="display: flex; flex-direction: column; gap: 12px;">
                        <div
                            style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px;">
                            <input type="checkbox" class="checkbox" checked disabled>
                            <div style="flex: 1;">
                                <strong style="font-size: 14px;">Attendance Sign-In/Out System</strong>
                                <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Verify all
                                    children signed in/out with times and parent signatures</div>
                                <div style="font-size: 12px; color: var(--success); margin-top: 4px;">‚úì Active
                                    monitoring ‚Ä¢ 42 children signed in today</div>
                            </div>
                        </div>
                        <div
                            style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px;">
                            <input type="checkbox" class="checkbox" checked disabled>
                            <div style="flex: 1;">
                                <strong style="font-size: 14px;">Child/Caregiver Ratios</strong>
                                <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Monitor ratios in
                                    each classroom throughout the day</div>
                                <div style="font-size: 12px; color: var(--success); margin-top: 4px;">‚úì All classrooms
                                    compliant ‚Ä¢ Last checked 2:30 PM</div>
                            </div>
                        </div>
                        <div
                            style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px;">
                            <input type="checkbox" class="checkbox" checked disabled>
                            <div style="flex: 1;">
                                <strong style="font-size: 14px;">Hand Washing Compliance Spot Check</strong>
                                <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Observe staff and
                                    children following proper hand washing procedures</div>
                                <div style="font-size: 12px; color: var(--success); margin-top: 4px;">‚úì Completed by
                                    Emily R. at 11:45 AM ‚Ä¢ 100% compliance observed</div>
                            </div>
                        </div>
                        <div
                            style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px;">
                            <input type="checkbox" class="checkbox" checked disabled>
                            <div style="flex: 1;">
                                <strong style="font-size: 14px;">Medication Log Review</strong>
                                <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Verify all
                                    medications administered are documented with two-staff signatures</div>
                                <div style="font-size: 12px; color: var(--success); margin-top: 4px;">‚úì Completed by
                                    Lisa T. at 3:00 PM ‚Ä¢ 3 medications given today, all documented</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Food Safety -->
                <div style="margin-bottom: 24px;">
                    <h4 style="font-size: 14px; font-weight: 600; color: var(--primary); margin-bottom: 12px;">üçΩÔ∏è Food
                        Safety (Meal Times)</h4>
                    <div style="display: flex; flex-direction: column; gap: 12px;">
                        <div
                            style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px;">
                            <input type="checkbox" class="checkbox" checked disabled>
                            <div style="flex: 1;">
                                <strong style="font-size: 14px;">Food Temperature Check</strong>
                                <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Verify hot foods
                                    >140¬∞F and cold foods <40¬∞F< /div>
                                        <div style="font-size: 12px; color: var(--success); margin-top: 4px;">‚úì Lunch:
                                            Hot 165¬∞F, Cold 38¬∞F ‚Ä¢ Completed at 12:00 PM</div>
                                </div>
                            </div>
                            <div
                                style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px;">
                                <input type="checkbox" class="checkbox" checked disabled>
                                <div style="flex: 1;">
                                    <strong style="font-size: 14px;">Menu Posted & Followed</strong>
                                    <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Daily menu
                                        visible to parents and meals served match posted menu</div>
                                    <div style="font-size: 12px; color: var(--success); margin-top: 4px;">‚úì Posted and
                                        verified</div>
                                </div>
                            </div>
                            <div
                                style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px;">
                                <input type="checkbox" class="checkbox" checked disabled>
                                <div style="flex: 1;">
                                    <strong style="font-size: 14px;">Allergy Lists Posted</strong>
                                    <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Food allergy
                                        emergency plan lists visible in kitchen and classrooms</div>
                                    <div style="font-size: 12px; color: var(--success); margin-top: 4px;">‚úì All allergy
                                        lists current and posted</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Cleaning & Sanitation -->
                    <div style="margin-bottom: 24px;">
                        <h4 style="font-size: 14px; font-weight: 600; color: var(--primary); margin-bottom: 12px;">üßº
                            Cleaning & Sanitation</h4>
                        <div style="display: flex; flex-direction: column; gap: 12px;">
                            <div
                                style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px;">
                                <input type="checkbox" class="checkbox" checked disabled>
                                <div style="flex: 1;">
                                    <strong style="font-size: 14px;">High-Touch Surface Cleaning</strong>
                                    <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Doorknobs,
                                        light switches, tables sanitized throughout day</div>
                                    <div style="font-size: 12px; color: var(--success); margin-top: 4px;">‚úì Completed at
                                        9:00 AM, 12:30 PM, 3:30 PM</div>
                                </div>
                            </div>
                            <div
                                style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px;">
                                <input type="checkbox" class="checkbox" checked disabled>
                                <div style="flex: 1;">
                                    <strong style="font-size: 14px;">Bathroom Cleaning & Supply Check</strong>
                                    <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Bathrooms
                                        cleaned, soap and paper towels restocked</div>
                                    <div style="font-size: 12px; color: var(--success); margin-top: 4px;">‚úì Checked and
                                        cleaned at 10:00 AM, 2:00 PM</div>
                                </div>
                            </div>
                            <div
                                style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px;">
                                <input type="checkbox" class="checkbox" checked disabled>
                                <div style="flex: 1;">
                                    <strong style="font-size: 14px;">Toy & Equipment Sanitizing</strong>
                                    <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Toys mouthed
                                        by infants sanitized after each use</div>
                                    <div style="font-size: 12px; color: var(--success); margin-top: 4px;">‚úì Ongoing
                                        throughout day ‚Ä¢ Logged at 11:00 AM, 3:00 PM</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- End of Day -->
                    <div style="margin-bottom: 24px;">
                        <h4 style="font-size: 14px; font-weight: 600; color: var(--primary); margin-bottom: 12px;">üåô
                            End of Day (5:00 PM - 6:00 PM)</h4>
                        <div style="display: flex; flex-direction: column; gap: 12px;">
                            <div
                                style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px;">
                                <input type="checkbox" class="checkbox" checked disabled>
                                <div style="flex: 1;">
                                    <strong style="font-size: 14px;">Final Headcount & Sign-Out</strong>
                                    <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">All children
                                        accounted for and signed out by authorized person</div>
                                    <div style="font-size: 12px; color: var(--success); margin-top: 4px;">‚úì All 42
                                        children signed out</div>
                                </div>
                            </div>
                            <div
                                style="display: flex; align-items: start; gap: 12px; padding: 12px; background: #fff3cd; border-radius: 8px; border: 2px solid var(--warning);">
                                <input type="checkbox" class="checkbox">
                                <div style="flex: 1;">
                                    <strong style="font-size: 14px;">Security Check & Lock-Up</strong>
                                    <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">All
                                        windows/doors locked, alarm set, lights off</div>
                                    <div style="font-size: 12px; color: var(--warning); margin-top: 4px;">‚è≥ Pending
                                        completion</div>
                                </div>
                            </div>
                            <div
                                style="display: flex; align-items: start; gap: 12px; padding: 12px; background: #fff3cd; border-radius: 8px; border: 2px solid var(--warning);">
                                <input type="checkbox" class="checkbox">
                                <div style="flex: 1;">
                                    <strong style="font-size: 14px;">Tomorrow's Prep Notes</strong>
                                    <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Document any
                                        special needs, upcoming events, or maintenance issues</div>
                                    <div style="font-size: 12px; color: var(--warning); margin-top: 4px;">‚è≥ Pending
                                        completion</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Document Vault Screen -->
            <div id="documents" class="screen">
                <div class="page-header">
                    <h1 class="page-title">Document Vault üìÅ</h1>
                    <p class="page-subtitle">Centralized storage with automatic expiration tracking</p>
                </div>

                <!-- Quick Stats Bar -->
                <div class="card"
                    style="background: linear-gradient(135deg, var(--primary), var(--secondary)); color: white; margin-bottom: 20px;">
                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 24px; text-align: center;">
                        <div>
                            <div style="font-size: 28px; font-weight: 700; margin-bottom: 4px;">94</div>
                            <div style="font-size: 13px; opacity: 0.9;">Total Documents</div>
                        </div>
                        <div>
                            <div style="font-size: 28px; font-weight: 700; margin-bottom: 4px;">82</div>
                            <div style="font-size: 13px; opacity: 0.9;">Required</div>
                        </div>
                        <div>
                            <div style="font-size: 28px; font-weight: 700; margin-bottom: 4px; color: #fef3c7;">12</div>
                            <div style="font-size: 13px; opacity: 0.9;">Missing</div>
                        </div>
                        <div>
                            <div style="font-size: 28px; font-weight: 700; margin-bottom: 4px;">87%</div>
                            <div style="font-size: 13px; opacity: 0.9;">Compliance</div>
                        </div>
                    </div>
                </div>

                <div class="card"
                    style="background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(239, 68, 68, 0.05));">
                    <div
                        style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;">
                        <div>
                            <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 8px; color: var(--danger);">‚ö†Ô∏è
                                Expiration Alerts</h3>
                            <p style="font-size: 14px; color: var(--gray-700);">5 documents require attention</p>
                        </div>
                        <div style="display: flex; gap: 8px;">
                            <button class="btn-small btn-secondary-small" onclick="openModal('inspection-readiness')">üìä
                                Inspection Readiness</button>
                            <button class="btn-small btn-primary-small" onclick="openModal('upload-document')">+ Upload
                                Document</button>
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
                        <div style="text-align: center; padding: 16px; background: white; border-radius: 8px;">
                            <div style="font-size: 24px; font-weight: 700; color: var(--danger);">2</div>
                            <div style="font-size: 13px; color: var(--gray-700);">Expired</div>
                        </div>
                        <div style="text-align: center; padding: 16px; background: white; border-radius: 8px;">
                            <div style="font-size: 24px; font-weight: 700; color: var(--warning);">3</div>
                            <div style="font-size: 13px; color: var(--gray-700);">Expiring in 30 Days</div>
                        </div>
                        <div style="text-align: center; padding: 16px; background: white; border-radius: 8px;">
                            <div style="font-size: 24px; font-weight: 700; color: var(--success);">89</div>
                            <div style="font-size: 13px; color: var(--gray-700);">Current</div>
                        </div>
                    </div>
                </div>

                <!-- Missing Required Forms Alert -->
                <div class="card"
                    style="background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(245, 158, 11, 0.05)); cursor: pointer;"
                    onclick="openModal('missing-forms')">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 8px; color: var(--warning);">üìã
                                Missing Required Forms</h3>
                            <p style="font-size: 14px; color: var(--gray-700);">12 required documents are not on file -
                                Add them now</p>
                        </div>
                        <div style="font-size: 32px; color: var(--warning);">‚Üí</div>
                    </div>
                </div>

                <div class="card">
                    <div class="tabs">
                        <button class="tab active" onclick="filterDocuments('all')">All Documents</button>
                        <button class="tab" onclick="filterDocuments('licenses')">Licensing & Permits</button>
                        <button class="tab" onclick="filterDocuments('staff')">Staff Records</button>
                        <button class="tab" onclick="filterDocuments('children')">Children</button>
                        <button class="tab" onclick="filterDocuments('health')">Health & Safety</button>
                        <button class="tab" onclick="filterDocuments('inspections')">Facility & Inspections</button>
                        <button class="tab" onclick="filterDocuments('insurance')">Insurance</button>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <input type="text" id="document-search" class="form-input" placeholder="üîç Search documents..."
                            style="max-width: 400px;" onkeyup="searchDocuments()">
                    </div>

                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Document Name</th>
                                <th>Category</th>
                                <th>Owner/Subject</th>
                                <th>Expiration Date</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Populated by loadDocuments() -->
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="card">
                <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 16px;">üìÖ Upcoming Expirations (Next 90
                    Days)</h3>
                <div style="display: flex; flex-direction: column; gap: 12px;">
                    <div
                        style="padding: 12px; background: var(--gray-50); border-left: 4px solid var(--danger); border-radius: 4px;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <strong style="font-size: 14px;">Emily Rodriguez - CPR Certification</strong>
                                <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Expires: Nov 15,
                                    2025 (12 days)</div>
                            </div>
                            <button class="btn-small btn-primary-small">Set Reminder</button>
                        </div>
                    </div>
                    <div
                        style="padding: 12px; background: var(--gray-50); border-left: 4px solid var(--warning); border-radius: 4px;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <strong style="font-size: 14px;">David Martinez - First Aid Certification</strong>
                                <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Expires: Nov 28,
                                    2025 (25 days)</div>
                            </div>
                            <button class="btn-small btn-primary-small">Set Reminder</button>
                        </div>
                    </div>
                    <div
                        style="padding: 12px; background: var(--gray-50); border-left: 4px solid var(--warning); border-radius: 4px;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <strong style="font-size: 14px;">Facility - Fire Inspection Report</strong>
                                <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Expires: Dec 10,
                                    2025 (68 days)</div>
                            </div>
                            <button class="btn-small btn-primary-small">Set Reminder</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Medication Tracking Screen -->
        <div id="medication" class="screen">
            <div class="page-header">
                <h1 class="page-title">Medication Tracking üíä</h1>
                <p class="page-subtitle">Texas-compliant medication administration and documentation</p>
            </div>

            <div class="card"
                style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));">
                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;">
                    <div>
                        <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">Texas Compliance Status</h3>
                        <p style="font-size: 14px; color: var(--gray-700);">All requirements met per ¬ß744.2651-2661</p>
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button class="btn-small btn-secondary-small" onclick="openModal('import-medication-csv')">
                            üì§ Import CSV
                        </button>
                        <button class="btn-small btn-primary-small" onclick="openModal('add-medication')">+ Add
                            Medication
                            Authorization</button>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
                    <div style="text-align: center; padding: 16px; background: white; border-radius: 8px;">
                        <div style="font-size: 24px; font-weight: 700; color: var(--gray-900);">12</div>
                        <div style="font-size: 13px; color: var(--gray-700);">Active Authorizations</div>
                    </div>
                    <div style="text-align: center; padding: 16px; background: white; border-radius: 8px;">
                        <div style="font-size: 24px; font-weight: 700; color: var(--success);">100%</div>
                        <div style="font-size: 13px; color: var(--gray-700);">Dual-Staff Verification</div>
                    </div>
                    <div style="text-align: center; padding: 16px; background: white; border-radius: 8px;">
                        <div style="font-size: 24px; font-weight: 700; color: var(--success);">3</div>
                        <div style="font-size: 13px; color: var(--gray-700);">Doses Given Today</div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 16px;">üö® Critical Texas Requirements</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                    <div
                        style="padding: 16px; background: var(--gray-50); border-radius: 8px; border-left: 4px solid var(--success);">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
                            <span style="color: var(--success); font-size: 24px;">‚úì</span>
                            <strong style="font-size: 14px;">Parent Authorization Required</strong>
                        </div>
                        <div style="font-size: 13px; color: var(--gray-700);">Written/electronic, signed & dated,
                            expires annually (¬ß744.2653)</div>
                    </div>
                    <div
                        style="padding: 16px; background: var(--gray-50); border-radius: 8px; border-left: 4px solid var(--success);">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
                            <span style="color: var(--success); font-size: 24px;">‚úì</span>
                            <strong style="font-size: 14px;">Original Container Only</strong>
                        </div>
                        <div style="font-size: 13px; color: var(--gray-700);">Child's name, date brought, cannot be
                            expired (¬ß744.2655)</div>
                    </div>
                    <div
                        style="padding: 16px; background: var(--gray-50); border-radius: 8px; border-left: 4px solid var(--success);">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
                            <span style="color: var(--success); font-size: 24px;">‚úì</span>
                            <strong style="font-size: 14px;">Dual-Staff Verification</strong>
                        </div>
                        <div style="font-size: 13px; color: var(--gray-700);">One administers, one witnesses - both sign
                            log</div>
                    </div>
                    <div
                        style="padding: 16px; background: var(--gray-50); border-radius: 8px; border-left: 4px solid var(--success);">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
                            <span style="color: var(--success); font-size: 24px;">‚úì</span>
                            <strong style="font-size: 14px;">Secure Storage</strong>
                        </div>
                        <div style="font-size: 13px; color: var(--gray-700);">Locked, out of reach, separate from food
                            (¬ß744.2657)</div>
                    </div>
                </div>
            </div>

            <!-- Medication Alerts Card -->
            <div id="medication-alerts-card" class="card" style="display: none; border-left: 4px solid var(--warning);">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                    <h3 style="font-size: 16px; font-weight: 600; color: var(--warning);">
                        üîî Active Medication Alerts (<span id="alert-count">0</span>)
                    </h3>
                    <button class="btn-small btn-secondary-small" onclick="dismissAllAlerts()">Dismiss All</button>
                </div>
                <div id="medication-alerts-list"></div>
            </div>

            <div class="card">
                <div class="tabs">
                    <button class="tab active" onclick="filterMedications('active')">Active Medications (<span
                            id="med-count-active">0</span>)</button>
                    <button class="tab" onclick="showDailySchedule()">üìÖ Today's Schedule</button>
                    <button class="tab" onclick="filterMedications('today')">Today's Log (<span
                            id="med-count-today">0</span>)</button>
                    <button class="tab" onclick="showAdministrationHistory()">üìä Administration History</button>
                    <button class="tab" onclick="filterMedications('expired')">Expired Authorizations (<span
                            id="med-count-expired">0</span>)</button>
                    <button class="tab" onclick="filterMedications('allergies')">Food Allergies (<span
                            id="med-count-allergies">0</span>)</button>
                </div>

                <!-- Daily Schedule View -->
                <div id="daily-schedule-view" style="display: none;">
                    <div style="margin-bottom: 20px;">
                        <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">
                            üìÖ Medication Schedule for <span id="schedule-date"></span>
                        </h3>
                        <p style="font-size: 14px; color: var(--gray-600);">All scheduled doses for today with real-time
                            status</p>
                    </div>

                    <div id="schedule-timeline" style="margin-top: 24px;">
                        <!-- Timeline will be populated dynamically -->
                    </div>

                    <div id="schedule-empty" style="display: none; text-align: center; padding: 60px 20px;">
                        <div style="font-size: 64px; margin-bottom: 16px;">üéâ</div>
                        <h3 style="font-size: 18px; font-weight: 600; color: var(--gray-800); margin-bottom: 8px;">
                            No Medications Scheduled Today
                        </h3>
                        <p style="font-size: 14px; color: var(--gray-600);">
                            All children are medication-free today!
                        </p>
                    </div>
                </div>

                <!-- Administration History View -->
                <div id="administration-history-view" style="display: none;">
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <div>
                            <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">
                                üìä Administration History
                            </h3>
                            <p style="font-size: 14px; color: var(--gray-600);">Complete medication log with dual-staff
                                verification records</p>
                        </div>
                        <div style="display: flex; gap: 8px;">
                            <button class="btn-small btn-secondary-small" onclick="exportAdministrationHistory('csv')">
                                üì• Export CSV
                            </button>
                            <button class="btn-small btn-secondary-small" onclick="exportAdministrationHistory('pdf')">
                                üìÑ Export PDF
                            </button>
                        </div>
                    </div>

                    <!-- Filters -->
                    <div
                        style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-bottom: 20px; padding: 16px; background: var(--gray-50); border-radius: 8px;">
                        <div>
                            <label
                                style="font-size: 12px; font-weight: 500; color: var(--gray-700); display: block; margin-bottom: 6px;">Date
                                Range</label>
                            <select id="history-date-range" class="form-input" onchange="filterHistoryByDate()"
                                style="font-size: 13px; padding: 8px;">
                                <option value="today">Today</option>
                                <option value="week" selected>This Week</option>
                                <option value="month">This Month</option>
                                <option value="all">All Time</option>
                            </select>
                        </div>
                        <div>
                            <label
                                style="font-size: 12px; font-weight: 500; color: var(--gray-700); display: block; margin-bottom: 6px;">Child</label>
                            <select id="history-child-filter" class="form-input" onchange="filterHistory()"
                                style="font-size: 13px; padding: 8px;">
                                <option value="all">All Children</option>
                                <option value="emma">Emma S.</option>
                                <option value="liam">Liam M.</option>
                                <option value="olivia">Olivia K.</option>
                            </select>
                        </div>
                        <div>
                            <label
                                style="font-size: 12px; font-weight: 500; color: var(--gray-700); display: block; margin-bottom: 6px;">Medication</label>
                            <select id="history-med-filter" class="form-input" onchange="filterHistory()"
                                style="font-size: 13px; padding: 8px;">
                                <option value="all">All Medications</option>
                            </select>
                        </div>
                        <div>
                            <label
                                style="font-size: 12px; font-weight: 500; color: var(--gray-700); display: block; margin-bottom: 6px;">Staff
                                Member</label>
                            <select id="history-staff-filter" class="form-input" onchange="filterHistory()"
                                style="font-size: 13px; padding: 8px;">
                                <option value="all">All Staff</option>
                            </select>
                        </div>
                    </div>

                    <!-- History Timeline -->
                    <div id="history-timeline">
                        <!-- Populated dynamically -->
                    </div>

                    <div id="history-empty" style="display: none; text-align: center; padding: 60px 20px;">
                        <div style="font-size: 64px; margin-bottom: 16px;">üìã</div>
                        <h3 style="font-size: 18px; font-weight: 600; color: var(--gray-800); margin-bottom: 8px;">
                            No Administration Records Found
                        </h3>
                        <p style="font-size: 14px; color: var(--gray-600);">
                            Try adjusting your filters or select a different date range
                        </p>
                    </div>
                </div>

                <!-- Medication List Table -->
                <div id="medication-list-table">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Child Name</th>
                                <th>Medication</th>
                                <th>Dosage</th>
                                <th>Schedule</th>
                                <th>Authorization</th>
                                <th>Container Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="medications-table-body">
                            <tr>
                                <td><strong>Emma S.</strong></td>
                                <td>Albuterol Inhaler<br><small>For asthma</small></td>
                                <td>2 puffs</td>
                                <td>As needed<br><small>Max 4x/day</small></td>
                                <td><span class="badge badge-complete">Valid until Mar 2026</span></td>
                                <td><span class="badge badge-complete">‚úì Original, labeled</span></td>
                                <td><button class="btn-small"
                                        style="padding: 4px 12px; font-size: 12px; background: var(--primary); color: white; border: none; border-radius: 4px; cursor: pointer;"
                                        onclick="openModal('administer-medication')">Log Dose</button></td>
                            </tr>
                            <tr>
                                <td><strong>Liam M.</strong></td>
                                <td>Amoxicillin<br><small>Antibiotic</small></td>
                                <td>5 mL</td>
                                <td>12:00 PM daily<br><small>7 days remaining</small></td>
                                <td><span class="badge badge-complete">Valid until Oct 2025</span></td>
                                <td><span class="badge badge-complete">‚úì Original, refrigerated</span></td>
                                <td><button class="btn-small"
                                        style="padding: 4px 12px; font-size: 12px; background: var(--warning); color: white; border: none; border-radius: 4px; cursor: pointer;"
                                        onclick="openModal('administer-medication')">Due in 15 min</button></td>
                            </tr>
                            <tr>
                                <td><strong>Olivia K.</strong></td>
                                <td>EpiPen Jr<br><small>Food allergy emergency</small></td>
                                <td>0.15 mg</td>
                                <td>Emergency only<br><small>Severe peanut allergy</small></td>
                                <td><span class="badge badge-complete">Valid until Jun 2026</span></td>
                                <td><span class="badge badge-complete">‚úì Original, temp-controlled</span></td>
                                <td><button class="btn-small"
                                        style="padding: 4px 12px; font-size: 12px; background: var(--gray-300); color: var(--gray-700); border: none; border-radius: 4px; cursor: pointer;">View
                                        Plan</button></td>
                            </tr>
                            <tr>
                                <td><strong>Noah B.</strong></td>
                                <td>Methylphenidate<br><small>ADHD medication</small></td>
                                <td>10 mg</td>
                                <td>11:00 AM daily</td>
                                <td><span class="badge badge-complete">Valid until Dec 2025</span></td>
                                <td><span class="badge badge-complete">‚úì Original, locked</span></td>
                                <td><button class="btn-small"
                                        style="padding: 4px 12px; font-size: 12px; background: var(--success); color: white; border: none; border-radius: 4px; cursor: pointer;">‚úì
                                        Given 11:05 AM</button></td>
                            </tr>
                            <tr>
                                <td><strong>Sophia L.</strong></td>
                                <td>Children's Tylenol<br><small>Fever/pain relief</small></td>
                                <td>10 mL (160mg)</td>
                                <td>As needed<br><small>Parent permission required</small></td>
                                <td><span class="badge badge-complete">Valid until Aug 2026</span></td>
                                <td><span class="badge badge-complete">‚úì Original, labeled</span></td>
                                <td><button class="btn-small"
                                        style="padding: 4px 12px; font-size: 12px; background: var(--primary); color: white; border: none; border-radius: 4px; cursor: pointer;">Log
                                        Dose</button></td>
                            </tr>
                            <tr>
                                <td><strong>Jackson P.</strong></td>
                                <td>Omeprazole<br><small>Acid reflux</small></td>
                                <td>10 mg</td>
                                <td>9:00 AM daily</td>
                                <td><span class="badge" style="background: #fef3c7; color: #92400e;">Expires Dec 15,
                                        2025</span></td>
                                <td><span class="badge badge-complete">‚úì Original, labeled</span></td>
                                <td><button class="btn-small"
                                        style="padding: 4px 12px; font-size: 12px; background: var(--success); color: white; border: none; border-radius: 4px; cursor: pointer;">‚úì
                                        Given 9:05 AM</button></td>
                            </tr>
                            <tr>
                                <td><strong>Ava W.</strong></td>
                                <td>Zyrtec<br><small>Seasonal allergies</small></td>
                                <td>5 mg</td>
                                <td>8:00 AM daily</td>
                                <td><span class="badge badge-complete">Valid until May 2026</span></td>
                                <td><span class="badge badge-complete">‚úì Original, labeled</span></td>
                                <td><button class="btn-small"
                                        style="padding: 4px 12px; font-size: 12px; background: var(--success); color: white; border: none; border-radius: 4px; cursor: pointer;">‚úì
                                        Given 8:10 AM</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 16px;">üìã Today's Administration Log -
                        October 3, 2025</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Time</th>
                                <th>Child</th>
                                <th>Medication</th>
                                <th>Dosage Given</th>
                                <th>Administered By</th>
                                <th>Witnessed By</th>
                                <th>Photo Verification</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>11:05 AM</strong></td>
                                <td>Noah B.</td>
                                <td>Methylphenidate 10mg</td>
                                <td>1 tablet (10mg)</td>
                                <td>Sarah Johnson</td>
                                <td>Michael Chen</td>
                                <td><span class="badge badge-complete">‚úì Container photo</span></td>
                            </tr>
                            <tr>
                                <td><strong>9:05 AM</strong></td>
                                <td>Jackson P.</td>
                                <td>Omeprazole 10mg</td>
                                <td>1 capsule (10mg)</td>
                                <td>Emily Rodriguez</td>
                                <td>Sarah Johnson</td>
                                <td><span class="badge badge-complete">‚úì Container photo</span></td>
                            </tr>
                            <tr>
                                <td><strong>8:10 AM</strong></td>
                                <td>Ava W.</td>
                                <td>Zyrtec 5mg</td>
                                <td>1 tablet (5mg)</td>
                                <td>Sarah Johnson</td>
                                <td>Lisa Thompson</td>
                                <td><span class="badge badge-complete">‚úì Container photo</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 16px;">ü•ú Food Allergy Emergency Plans
                        (Texas ¬ß744.2667-2669)</h3>
                    <div style="display: flex; flex-direction: column; gap: 12px;">
                        <div
                            style="padding: 16px; background: #fee2e2; border-radius: 8px; border-left: 4px solid var(--danger);">
                            <div
                                style="display: flex; justify-content: between; align-items: start; margin-bottom: 8px;">
                                <div style="flex: 1;">
                                    <strong style="font-size: 14px;">Olivia K. - SEVERE Peanut Allergy</strong>
                                    <div style="font-size: 13px; color: #991b1b; margin-top: 4px; font-weight: 600;">‚ö†Ô∏è
                                        ANAPHYLAXIS RISK - EpiPen required</div>
                                    <div style="font-size: 13px; color: #7c2d12; margin-top: 8px;">
                                        <strong>Allergens:</strong> Peanuts, tree nuts (almonds, cashews, walnuts)<br>
                                        <strong>Symptoms:</strong> Hives, swelling, difficulty breathing, vomiting<br>
                                        <strong>Emergency Action:</strong> 1) Administer EpiPen Jr to outer thigh 2)
                                        Call
                                        911 3) Call parents 4) Second dose if no improvement in 5-10 min
                                    </div>
                                </div>
                                <span class="badge"
                                    style="background: white; color: #991b1b; border: 2px solid #991b1b;">Plan signed by
                                    Dr.
                                    Martinez & parent</span>
                            </div>
                            <div style="margin-top: 12px; padding: 12px; background: white; border-radius: 6px;">
                                <strong style="font-size: 13px;">Posted Locations:</strong> Kitchen ‚úì | Classroom 2A ‚úì |
                                Cafeteria ‚úì | Office ‚úì
                            </div>
                        </div>
                        <div
                            style="padding: 16px; background: #fef3c7; border-radius: 8px; border-left: 4px solid var(--warning);">
                            <div style="display: flex; justify-content: space-between; align-items: start;">
                                <div style="flex: 1;">
                                    <strong style="font-size: 14px;">Mason T. - Dairy Allergy</strong>
                                    <div style="font-size: 13px; color: #78350f; margin-top: 8px;">
                                        <strong>Allergens:</strong> Milk, cheese, yogurt, butter<br>
                                        <strong>Symptoms:</strong> Stomach pain, diarrhea, skin rash<br>
                                        <strong>Action:</strong> Remove from exposure, call parents, monitor for
                                        worsening
                                        symptoms
                                    </div>
                                </div>
                                <span class="badge badge-complete">Plan on file</span>
                            </div>
                        </div>
                        <div
                            style="padding: 16px; background: #fef3c7; border-radius: 8px; border-left: 4px solid var(--warning);">
                            <div style="display: flex; justify-content: space-between; align-items: start;">
                                <div style="flex: 1;">
                                    <strong style="font-size: 14px;">Harper G. - Shellfish Allergy</strong>
                                    <div style="font-size: 13px; color: #78350f; margin-top: 8px;">
                                        <strong>Allergens:</strong> Shrimp, crab, lobster, oysters<br>
                                        <strong>Symptoms:</strong> Hives, itching, swelling of lips/tongue<br>
                                        <strong>Action:</strong> Benadryl 12.5mg if mild reaction, call parents, 911 if
                                        breathing difficulty
                                    </div>
                                </div>
                                <span class="badge badge-complete">Plan on file</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Medication Authorization Modal -->
    <div id="add-medication" class="modal">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-header">
                <h2 class="modal-title">New Medication Authorization üíä</h2>
                <p style="font-size: 14px; color: var(--gray-700); margin-top: 8px;">Texas ¬ß744.2653 - Parent
                    authorization required</p>
            </div>
            <form id="add-medication-form" onsubmit="addMedication(event)">
                <div class="form-group">
                    <label class="form-label">Child Name</label>
                    <input id="med-child-name" type="text" class="form-input" placeholder="Select child..." required>
                </div>
                <div class="form-group">
                    <label class="form-label">Medication Name</label>
                    <input id="med-name" type="text" class="form-input" placeholder="e.g., Amoxicillin, Albuterol"
                        required>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                    <div class="form-group">
                        <label class="form-label">Type</label>
                        <select id="med-type" class="form-input" required>
                            <option value="prescription">Prescription</option>
                            <option value="otc">Non-Prescription (OTC)</option>
                            <option value="emergency">Emergency (EpiPen, Inhaler)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Dosage</label>
                        <input id="med-dosage" type="text" class="form-input" placeholder="e.g., 5 mL, 10 mg, 2 puffs"
                            required>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Administration Schedule</label>
                    <select id="med-schedule" class="form-input" required>
                        <option>Scheduled Daily (specific time)</option>
                        <option>Multiple Times Per Day</option>
                        <option>As Needed (PRN)</option>
                        <option>Emergency Only</option>
                    </select>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                    <div class="form-group">
                        <label class="form-label">Start Date</label>
                        <input id="med-start-date" type="date" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">End Date / Authorization Expiration</label>
                        <input id="med-end-date" type="date" class="form-input" required>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Special Instructions / Conditions</label>
                    <textarea id="med-instructions" class="form-input" rows="2"
                        placeholder="e.g., Give with food, monitor for side effects..."></textarea>
                </div>
                <div style="background: var(--gray-50); padding: 16px; border-radius: 8px; margin-top: 16px;">
                    <strong style="font-size: 13px; display: block; margin-bottom: 8px;">‚úì Texas Requirements
                        Checklist:</strong>
                    <div style="font-size: 12px; color: var(--gray-700); line-height: 1.8;">
                        ‚Ä¢ Parent written/electronic authorization (¬ß744.2653)<br>
                        ‚Ä¢ Original container with child's name and date<br>
                        ‚Ä¢ Cannot exceed label instructions or doctor's orders<br>
                        ‚Ä¢ Authorization expires after 1 year<br>
                        ‚Ä¢ Medication must not be expired
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary"
                        onclick="closeModal('add-medication')">Cancel</button>
                    <button id="add-medication-btn" type="submit" class="btn btn-primary">Save Medication
                        Authorization</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Administer Medication Modal -->
    <div id="administer-medication" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Administer Medication üíä</h2>
                <p style="font-size: 14px; color: var(--gray-700); margin-top: 8px;">Dual-staff verification required
                </p>
            </div>
            <form>
                <div
                    style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1)); padding: 16px; border-radius: 8px; margin-bottom: 20px;">
                    <strong style="font-size: 14px; display: block; margin-bottom: 8px;">Medication Details:</strong>
                    <div style="font-size: 13px; color: var(--gray-700);">
                        <strong>Child:</strong> Liam M.<br>
                        <strong>Medication:</strong> Amoxicillin 5 mL<br>
                        <strong>Scheduled Time:</strong> 12:00 PM<br>
                        <strong>Authorization:</strong> Valid until Oct 2025 ‚úì
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Actual Time Administered</label>
                    <input type="time" class="form-input" value="12:03" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Dosage Given (confirm matches authorization)</label>
                    <input type="text" class="form-input" value="5 mL" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Administered By (Staff Member 1)</label>
                    <select class="form-input" required>
                        <option>Sarah Johnson</option>
                        <option>Michael Chen</option>
                        <option>Emily Rodriguez</option>
                        <option>David Martinez</option>
                        <option>Lisa Thompson</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Witnessed By (Staff Member 2 - Required)</label>
                    <select class="form-input" required>
                        <option>Michael Chen</option>
                        <option>Sarah Johnson</option>
                        <option>Emily Rodriguez</option>
                        <option>David Martinez</option>
                        <option>Lisa Thompson</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Verification Photo (Recommended)</label>
                    <div
                        style="border: 2px dashed var(--gray-300); border-radius: 8px; padding: 24px; text-align: center; cursor: pointer;">
                        <div style="font-size: 36px; margin-bottom: 8px;">üì∑</div>
                        <div style="font-size: 13px; color: var(--gray-700);">Photo of medication container before
                            administration</div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Notes (Optional)</label>
                    <textarea class="form-input" rows="2"
                        placeholder="Any observations, child's reaction, etc..."></textarea>
                </div>
                <div
                    style="background: #dcfce7; padding: 12px; border-radius: 8px; margin-top: 16px; font-size: 13px; color: #065f46;">
                    <strong>‚úì Texas ¬ß744.2655 Requirements Met:</strong><br>
                    ‚Ä¢ Following label directions ‚úì<br>
                    ‚Ä¢ Original container verified ‚úì<br>
                    ‚Ä¢ Administered only to intended child ‚úì<br>
                    ‚Ä¢ Medication not expired ‚úì<br>
                    ‚Ä¢ Recording child name, medication, date, time, amount, staff name ‚úì
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary"
                        onclick="closeModal('administer-medication')">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="closeModal('administer-medication')">Save &
                        Notify Parent</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Upload Document Modal (4-Step Enhanced) -->
    <div id="upload-document" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h2 class="modal-title">Upload Document üìÅ</h2>
                <div style="display: flex; gap: 8px; margin-top: 12px; font-size: 12px;">
                    <div id="step-indicator-1"
                        style="flex: 1; padding: 4px; background: var(--primary); color: white; text-align: center; border-radius: 4px;">
                        1. Basic Info</div>
                    <div id="step-indicator-2"
                        style="flex: 1; padding: 4px; background: var(--gray-200); color: var(--gray-600); text-align: center; border-radius: 4px;">
                        2. Dates</div>
                    <div id="step-indicator-3"
                        style="flex: 1; padding: 4px; background: var(--gray-200); color: var(--gray-600); text-align: center; border-radius: 4px;">
                        3. Upload</div>
                    <div id="step-indicator-4"
                        style="flex: 1; padding: 4px; background: var(--gray-200); color: var(--gray-600); text-align: center; border-radius: 4px;">
                        4. Review</div>
                </div>
            </div>
            <form>
                <!-- Step 1: Basic Information -->
                <div id="upload-step-1" class="upload-step">
                    <div class="form-group">
                        <label class="form-label">Document Name</label>
                        <input type="text" id="upload-doc-name" class="form-input" placeholder="e.g., CPR Certification"
                            required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Form Number</label>
                        <select id="upload-form-number" class="form-input" required>
                            <option value="">Select a form...</option>
                            <option value="2910">Form 2910 - Application for License</option>
                            <option value="2948">Form 2948 - Plan of Operation</option>
                            <option value="2971">Form 2971 - Background Check Request</option>
                            <option value="2985">Form 2985 - Employment Affidavit</option>
                            <option value="7239">Form 7239 - Incident/Illness Report</option>
                            <option value="7243">Form 7243 - Emergency Phone Numbers</option>
                            <option value="7250">Form 7250 - Staff Training Record</option>
                            <option value="7255">Form 7255 - Medication Authorization</option>
                            <option value="7259">Form 7259 - Personnel Records Evaluation</option>
                            <option value="7260">Form 7260 - Children's Records Evaluation</option>
                            <option value="7263">Form 7263 - Emergency Practices</option>
                            <option value="other">Other (free text)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Category</label>
                        <select id="upload-category" class="form-input" required>
                            <option value="">Select category...</option>
                            <option value="licensing">Licensing & Permits</option>
                            <option value="staff">Staff Records</option>
                            <option value="children">Children</option>
                            <option value="health">Health & Safety</option>
                            <option value="facility">Facility & Inspections</option>
                            <option value="insurance">Insurance</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Violation Weight</label>
                        <select id="upload-violation" class="form-input" required>
                            <option value="">Select weight...</option>
                            <option value="high">High</option>
                            <option value="med-high">Medium-High</option>
                            <option value="medium">Medium</option>
                            <option value="med-low">Medium-Low</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                </div>

                <!-- Step 2: Dates & Association -->
                <div id="upload-step-2" class="upload-step" style="display: none;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                        <div class="form-group">
                            <label class="form-label">Issue Date</label>
                            <input type="date" id="upload-issue-date" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Expiration Date</label>
                            <input type="date" id="upload-exp-date" class="form-input">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox" id="upload-no-exp" onchange="toggleExpirationDate()">
                            <span class="form-label" style="margin: 0;">No expiration date</span>
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Associated With</label>
                        <select id="upload-associated" class="form-input" required>
                            <option value="">Select association...</option>
                            <option value="facility">Facility-wide</option>
                            <option value="emily">Emily Rodriguez (Staff)</option>
                            <option value="david">David Martinez (Staff)</option>
                            <option value="sarah">Sarah Johnson (Staff)</option>
                            <option value="lisa">Lisa Thompson (Staff)</option>
                            <option value="emma">Emma S. (Child)</option>
                            <option value="other-child">Other Child...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Owner/Subject</label>
                        <input type="text" id="upload-owner" class="form-input"
                            placeholder="Auto-filled based on selection" required>
                    </div>
                </div>

                <!-- Step 3: File Upload -->
                <div id="upload-step-3" class="upload-step" style="display: none;">
                    <div class="form-group">
                        <label class="form-label">Upload File</label>
                        <input type="file" id="upload-file-input" accept=".pdf,.jpg,.jpeg,.png,.docx,.doc"
                            style="display: none;" onchange="handleFileSelect(event)">
                        <div id="upload-dropzone"
                            style="border: 2px dashed var(--gray-300); border-radius: 8px; padding: 48px; text-align: center; cursor: pointer; transition: all var(--transition-base);"
                            onclick="document.getElementById('upload-file-input').click()"
                            ondragover="handleDragOver(event)" ondrop="handleFileDrop(event)"
                            ondragleave="handleDragLeave(event)">
                            <div style="font-size: 48px; margin-bottom: 12px;">üìÑ</div>
                            <div style="font-size: 14px; color: var(--gray-900); margin-bottom: 4px; font-weight: 600;">
                                Click to upload or drag & drop</div>
                            <div style="font-size: 12px; color: var(--gray-600);">PDF, JPG, PNG, DOCX (Max 10MB)</div>
                        </div>
                    </div>
                    <div id="upload-preview"
                        style="display: none; margin-top: 16px; padding: 16px; background: var(--gray-50); border-radius: 8px; border: 1px solid var(--gray-200);">
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <div id="file-icon" style="font-size: 32px;">üìÑ</div>
                            <div style="flex: 1;">
                                <div id="file-name" style="font-size: 14px; font-weight: 600; color: var(--gray-900);">
                                    filename.pdf</div>
                                <div id="file-size" style="font-size: 12px; color: var(--gray-600);">2.5 MB</div>
                            </div>
                            <button type="button" onclick="removeSelectedFile()"
                                style="padding: 6px 12px; font-size: 12px; background: var(--danger); color: white; border: none; border-radius: 4px; cursor: pointer; transition: opacity 0.2s;"
                                onmouseover="this.style.opacity='0.8'"
                                onmouseout="this.style.opacity='1'">Remove</button>
                        </div>
                        <div id="upload-progress-container" style="display: none; margin-top: 12px;">
                            <div
                                style="display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 4px;">
                                <span style="color: var(--gray-700);">Uploading...</span>
                                <span id="upload-percentage" style="color: var(--primary); font-weight: 600;">0%</span>
                            </div>
                            <div
                                style="width: 100%; height: 6px; background: var(--gray-200); border-radius: 3px; overflow: hidden;">
                                <div id="upload-progress-bar"
                                    style="width: 0%; height: 100%; background: linear-gradient(90deg, var(--primary), var(--success)); transition: width 0.3s;">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 4: Review & Confirm -->
                <div id="upload-step-4" class="upload-step" style="display: none;">
                    <div style="background: var(--gray-50); border-radius: 8px; padding: 20px;">
                        <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 16px; color: var(--gray-900);">Does
                            this look correct?</h3>
                        <div style="display: grid; gap: 12px;">
                            <div style="display: grid; grid-template-columns: 140px 1fr; gap: 8px;">
                                <div style="font-size: 13px; color: var(--gray-600);">Document Name:</div>
                                <div id="review-doc-name"
                                    style="font-size: 13px; font-weight: 600; color: var(--gray-900);">‚Äî</div>
                            </div>
                            <div style="display: grid; grid-template-columns: 140px 1fr; gap: 8px;">
                                <div style="font-size: 13px; color: var(--gray-600);">Form Number:</div>
                                <div id="review-form-number"
                                    style="font-size: 13px; font-weight: 600; color: var(--gray-900);">‚Äî</div>
                            </div>
                            <div style="display: grid; grid-template-columns: 140px 1fr; gap: 8px;">
                                <div style="font-size: 13px; color: var(--gray-600);">Category:</div>
                                <div id="review-category"
                                    style="font-size: 13px; font-weight: 600; color: var(--gray-900);">‚Äî</div>
                            </div>
                            <div style="display: grid; grid-template-columns: 140px 1fr; gap: 8px;">
                                <div style="font-size: 13px; color: var(--gray-600);">Violation Weight:</div>
                                <div id="review-violation"
                                    style="font-size: 13px; font-weight: 600; color: var(--gray-900);">‚Äî</div>
                            </div>
                            <div style="display: grid; grid-template-columns: 140px 1fr; gap: 8px;">
                                <div style="font-size: 13px; color: var(--gray-600);">Issue Date:</div>
                                <div id="review-issue-date"
                                    style="font-size: 13px; font-weight: 600; color: var(--gray-900);">‚Äî</div>
                            </div>
                            <div style="display: grid; grid-template-columns: 140px 1fr; gap: 8px;">
                                <div style="font-size: 13px; color: var(--gray-600);">Expiration Date:</div>
                                <div id="review-exp-date"
                                    style="font-size: 13px; font-weight: 600; color: var(--gray-900);">‚Äî</div>
                            </div>
                            <div style="display: grid; grid-template-columns: 140px 1fr; gap: 8px;">
                                <div style="font-size: 13px; color: var(--gray-600);">Associated With:</div>
                                <div id="review-associated"
                                    style="font-size: 13px; font-weight: 600; color: var(--gray-900);">‚Äî</div>
                            </div>
                            <div style="display: grid; grid-template-columns: 140px 1fr; gap: 8px;">
                                <div style="font-size: 13px; color: var(--gray-600);">Owner/Subject:</div>
                                <div id="review-owner"
                                    style="font-size: 13px; font-weight: 600; color: var(--gray-900);">‚Äî</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal-footer" style="margin-top: 24px;">
                    <button type="button" class="btn btn-secondary"
                        onclick="closeModal('upload-document')">Cancel</button>
                    <button type="button" id="upload-prev-btn" class="btn btn-secondary" style="display: none;"
                        onclick="previousUploadStep()">‚Üê Previous</button>
                    <button type="button" id="upload-next-btn" class="btn btn-primary" onclick="nextUploadStep()">Next
                        ‚Üí</button>
                    <button type="button" id="upload-save-btn" class="btn btn-primary" style="display: none;"
                        onclick="saveDocument()">Save Document</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Missing Required Forms Modal -->
    <div id="missing-forms" class="modal">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-header">
                <h2 class="modal-title">Missing Required Documents</h2>
                <p style="font-size: 14px; color: var(--gray-600); margin-top: 8px;">Bright Futures Learning Center</p>
            </div>
            <div style="display: flex; flex-direction: column; gap: 24px;">
                <!-- Licensing & Permits -->
                <div>
                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                        <input type="checkbox" style="width: 16px; height: 16px;">
                        <h3 style="font-size: 16px; font-weight: 600; color: var(--gray-900);">LICENSING & PERMITS (2
                            missing)</h3>
                    </div>
                    <div style="display: flex; flex-direction: column; gap: 8px; margin-left: 24px;">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--gray-50); border-radius: 6px;">
                            <div>
                                <input type="checkbox" style="margin-right: 8px;">
                                <span style="font-size: 14px; color: var(--gray-900);">Form 2910 - Application for
                                    License</span>
                            </div>
                            <button class="btn-small btn-primary-small"
                                onclick="openModal('upload-document'); closeModal('missing-forms');">+ Add
                                Document</button>
                        </div>
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--gray-50); border-radius: 6px;">
                            <div>
                                <input type="checkbox" style="margin-right: 8px;">
                                <span style="font-size: 14px; color: var(--gray-900);">Current License (MUST BE
                                    POSTED)</span>
                                <span class="badge"
                                    style="background: var(--danger); color: white; font-size: 10px; padding: 2px 6px; margin-left: 8px;">CRITICAL</span>
                            </div>
                            <button class="btn-small btn-primary-small"
                                onclick="openModal('upload-document'); closeModal('missing-forms');">+ Add
                                Document</button>
                        </div>
                    </div>
                </div>

                <!-- Staff Records -->
                <div>
                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                        <input type="checkbox" style="width: 16px; height: 16px;">
                        <h3 style="font-size: 16px; font-weight: 600; color: var(--gray-900);">STAFF RECORDS (5 missing)
                        </h3>
                    </div>
                    <div style="display: flex; flex-direction: column; gap: 8px; margin-left: 24px;">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--gray-50); border-radius: 6px;">
                            <div>
                                <input type="checkbox" style="margin-right: 8px;">
                                <span style="font-size: 14px; color: var(--gray-900);">Form 2971 - Background Check
                                    (Sarah Johnson)</span>
                            </div>
                            <button class="btn-small btn-primary-small"
                                onclick="openModal('upload-document'); closeModal('missing-forms');">+ Add
                                Document</button>
                        </div>
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--gray-50); border-radius: 6px;">
                            <div>
                                <input type="checkbox" style="margin-right: 8px;">
                                <span style="font-size: 14px; color: var(--gray-900);">Form 2985 - Employment Affidavit
                                    (Mike Chen)</span>
                            </div>
                            <button class="btn-small btn-primary-small"
                                onclick="openModal('upload-document'); closeModal('missing-forms');">+ Add
                                Document</button>
                        </div>
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--gray-50); border-radius: 6px;">
                            <div>
                                <input type="checkbox" style="margin-right: 8px;">
                                <span style="font-size: 14px; color: var(--gray-900);">CPR Certification (John
                                    Doe)</span>
                            </div>
                            <button class="btn-small btn-primary-small"
                                onclick="openModal('upload-document'); closeModal('missing-forms');">+ Add
                                Document</button>
                        </div>
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--gray-50); border-radius: 6px;">
                            <div>
                                <input type="checkbox" style="margin-right: 8px;">
                                <span style="font-size: 14px; color: var(--gray-900);">Form 7250 - Staff Training Record
                                    (New Hire)</span>
                            </div>
                            <button class="btn-small btn-primary-small"
                                onclick="openModal('upload-document'); closeModal('missing-forms');">+ Add
                                Document</button>
                        </div>
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--gray-50); border-radius: 6px;">
                            <div>
                                <input type="checkbox" style="margin-right: 8px;">
                                <span style="font-size: 14px; color: var(--gray-900);">TB Test Results (Multiple
                                    Staff)</span>
                            </div>
                            <button class="btn-small btn-primary-small"
                                onclick="openModal('upload-document'); closeModal('missing-forms');">+ Add
                                Document</button>
                        </div>
                    </div>
                </div>

                <!-- Facility & Inspections -->
                <div>
                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                        <input type="checkbox" style="width: 16px; height: 16px;">
                        <h3 style="font-size: 16px; font-weight: 600; color: var(--gray-900);">FACILITY & INSPECTIONS (3
                            missing)</h3>
                    </div>
                    <div style="display: flex; flex-direction: column; gap: 8px; margin-left: 24px;">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--gray-50); border-radius: 6px;">
                            <div>
                                <input type="checkbox" style="margin-right: 8px;">
                                <span style="font-size: 14px; color: var(--gray-900);">Fire Inspection Report (Annual -
                                    Overdue)</span>
                                <span class="badge"
                                    style="background: var(--danger); color: white; font-size: 10px; padding: 2px 6px; margin-left: 8px;">OVERDUE</span>
                            </div>
                            <button class="btn-small btn-primary-small"
                                onclick="openModal('upload-document'); closeModal('missing-forms');">+ Add
                                Document</button>
                        </div>
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--gray-50); border-radius: 6px;">
                            <div>
                                <input type="checkbox" style="margin-right: 8px;">
                                <span style="font-size: 14px; color: var(--gray-900);">Sanitation Inspection
                                    Report</span>
                            </div>
                            <button class="btn-small btn-primary-small"
                                onclick="openModal('upload-document'); closeModal('missing-forms');">+ Add
                                Document</button>
                        </div>
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--gray-50); border-radius: 6px;">
                            <div>
                                <input type="checkbox" style="margin-right: 8px;">
                                <span style="font-size: 14px; color: var(--gray-900);">Playground Equipment
                                    Certification</span>
                            </div>
                            <button class="btn-small btn-primary-small"
                                onclick="openModal('upload-document'); closeModal('missing-forms');">+ Add
                                Document</button>
                        </div>
                    </div>
                </div>

                <!-- Children -->
                <div>
                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                        <input type="checkbox" style="width: 16px; height: 16px;">
                        <h3 style="font-size: 16px; font-weight: 600; color: var(--gray-900);">CHILDREN (2 missing)</h3>
                    </div>
                    <div style="display: flex; flex-direction: column; gap: 8px; margin-left: 24px;">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--gray-50); border-radius: 6px;">
                            <div>
                                <input type="checkbox" style="margin-right: 8px;">
                                <span style="font-size: 14px; color: var(--gray-900);">Enrollment Form (New Child -
                                    Started Monday)</span>
                            </div>
                            <button class="btn-small btn-primary-small"
                                onclick="openModal('upload-document'); closeModal('missing-forms');">+ Add
                                Document</button>
                        </div>
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--gray-50); border-radius: 6px;">
                            <div>
                                <input type="checkbox" style="margin-right: 8px;">
                                <span style="font-size: 14px; color: var(--gray-900);">Medical Emergency Authorization
                                    (Tommy L.)</span>
                            </div>
                            <button class="btn-small btn-primary-small"
                                onclick="openModal('upload-document'); closeModal('missing-forms');">+ Add
                                Document</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer" style="margin-top: 24px;">
                <button type="button" class="btn btn-secondary" onclick="closeModal('missing-forms')">Close</button>
                <button type="button" class="btn btn-primary">Print Checklist</button>
            </div>
        </div>
    </div>

    <!-- Inspection Readiness Report Modal -->
    <div id="inspection-readiness" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h2 class="modal-title">üìä Inspection Readiness Report</h2>
                <div style="display: flex; justify-content: space-between; margin-top: 12px;">
                    <p style="font-size: 14px; color: var(--gray-600);">Generated: October 6, 2025 at 3:45 PM</p>
                    <p style="font-size: 14px; color: var(--gray-600);">Facility: Bright Futures Learning Center</p>
                </div>
            </div>

            <div style="display: flex; flex-direction: column; gap: 20px;">
                <!-- Overall Compliance Score -->
                <div
                    style="padding: 24px; background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(245, 158, 11, 0.05)); border-radius: 12px; text-align: center;">
                    <div style="font-size: 48px; font-weight: 800; color: var(--warning); margin-bottom: 8px;">87%</div>
                    <div style="font-size: 16px; font-weight: 600; color: var(--gray-900); margin-bottom: 4px;">OVERALL
                        COMPLIANCE SCORE</div>
                    <div
                        style="display: inline-block; padding: 6px 16px; background: var(--warning); color: white; border-radius: 20px; font-size: 14px; font-weight: 600;">
                        CAUTION</div>
                    <p style="font-size: 13px; color: var(--gray-600); margin-top: 12px;">Address missing items before
                        inspection</p>
                </div>

                <!-- Licensing & Permits -->
                <div style="border: 1px solid var(--gray-200); border-radius: 8px; padding: 16px;">
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                        <h3 style="font-size: 16px; font-weight: 600; color: var(--gray-900);">‚úÖ LICENSING & PERMITS
                        </h3>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <span style="font-size: 14px; color: var(--gray-600);">10/12 Complete</span>
                            <span style="font-size: 18px; font-weight: 700; color: #f59e0b;">83%</span>
                        </div>
                    </div>
                    <div
                        style="width: 100%; height: 8px; background: var(--gray-200); border-radius: 4px; overflow: hidden; margin-bottom: 12px;">
                        <div style="width: 83%; height: 100%; background: linear-gradient(90deg, #f59e0b, #eab308);">
                        </div>
                    </div>
                    <div style="font-size: 13px; color: var(--gray-700);">
                        ‚úÖ Current License - Posted<br>
                        ‚úÖ Form 2910 - Application<br>
                        ‚úÖ Director's Certificate - Current<br>
                        ‚ùå MISSING: Form 2948 - Plan of Operation<br>
                        ‚ùå MISSING: Permit renewal documentation
                    </div>
                </div>

                <!-- Staff Records -->
                <div style="border: 1px solid var(--gray-200); border-radius: 8px; padding: 16px;">
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                        <h3 style="font-size: 16px; font-weight: 600; color: var(--gray-900);">‚úÖ STAFF RECORDS</h3>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <span style="font-size: 14px; color: var(--gray-600);">40/45 Complete</span>
                            <span style="font-size: 18px; font-weight: 700; color: #10b981;">89%</span>
                        </div>
                    </div>
                    <div
                        style="width: 100%; height: 8px; background: var(--gray-200); border-radius: 4px; overflow: hidden; margin-bottom: 12px;">
                        <div style="width: 89%; height: 100%; background: linear-gradient(90deg, #10b981, #059669);">
                        </div>
                    </div>
                    <div style="font-size: 13px; color: var(--gray-700);">
                        ‚úÖ Background Checks (15/15)<br>
                        ‚ö†Ô∏è CPR Certifications (12/15) - 3 expired<br>
                        ‚úÖ Training Records (13/15) - 2 incomplete
                    </div>
                </div>

                <!-- Health & Safety -->
                <div style="border: 1px solid var(--gray-200); border-radius: 8px; padding: 16px;">
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                        <h3 style="font-size: 16px; font-weight: 600; color: var(--gray-900);">‚úÖ HEALTH & SAFETY</h3>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <span style="font-size: 14px; color: var(--gray-600);">8/10 Complete</span>
                            <span style="font-size: 18px; font-weight: 700; color: #10b981;">80%</span>
                        </div>
                    </div>
                    <div
                        style="width: 100%; height: 8px; background: var(--gray-200); border-radius: 4px; overflow: hidden; margin-bottom: 12px;">
                        <div style="width: 80%; height: 100%; background: linear-gradient(90deg, #10b981, #059669);">
                        </div>
                    </div>
                    <div style="font-size: 13px; color: var(--gray-700);">
                        ‚úÖ Health Inspections Current<br>
                        ‚ö†Ô∏è Food Handler Permits - 1 expired<br>
                        ‚úÖ Emergency Procedures Posted
                    </div>
                </div>

                <!-- Facility & Inspections -->
                <div style="border: 1px solid var(--gray-200); border-radius: 8px; padding: 16px;">
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                        <h3 style="font-size: 16px; font-weight: 600; color: var(--gray-900);">‚úÖ FACILITY & INSPECTIONS
                        </h3>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <span style="font-size: 14px; color: var(--gray-600);">12/15 Complete</span>
                            <span style="font-size: 18px; font-weight: 700; color: #10b981;">80%</span>
                        </div>
                    </div>
                    <div
                        style="width: 100%; height: 8px; background: var(--gray-200); border-radius: 4px; overflow: hidden; margin-bottom: 12px;">
                        <div style="width: 80%; height: 100%; background: linear-gradient(90deg, #10b981, #059669);">
                        </div>
                    </div>
                    <div style="font-size: 13px; color: var(--gray-700);">
                        ‚úÖ Building Safety Current<br>
                        ‚ùå Fire Inspection Overdue<br>
                        ‚úÖ Sanitation Report Current
                    </div>
                </div>

                <!-- Children -->
                <div style="border: 1px solid var(--gray-200); border-radius: 8px; padding: 16px;">
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                        <h3 style="font-size: 16px; font-weight: 600; color: var(--gray-900);">‚úÖ CHILDREN</h3>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <span style="font-size: 14px; color: var(--gray-600);">24/26 Complete</span>
                            <span style="font-size: 18px; font-weight: 700; color: #10b981;">92%</span>
                        </div>
                    </div>
                    <div
                        style="width: 100%; height: 8px; background: var(--gray-200); border-radius: 4px; overflow: hidden; margin-bottom: 12px;">
                        <div style="width: 92%; height: 100%; background: linear-gradient(90deg, #10b981, #059669);">
                        </div>
                    </div>
                    <div style="font-size: 13px; color: var(--gray-700);">
                        ‚úÖ Immunization Records Current<br>
                        ‚úÖ Emergency Contacts Verified<br>
                        ‚ö†Ô∏è 2 enrollment forms pending
                    </div>
                </div>

                <!-- Insurance -->
                <div style="border: 1px solid var(--gray-200); border-radius: 8px; padding: 16px;">
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                        <h3 style="font-size: 16px; font-weight: 600; color: var(--gray-900);">‚úÖ INSURANCE</h3>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <span style="font-size: 14px; color: var(--gray-600);">8/8 Complete</span>
                            <span style="font-size: 18px; font-weight: 700; color: #10b981;">100%</span>
                        </div>
                    </div>
                    <div
                        style="width: 100%; height: 8px; background: var(--gray-200); border-radius: 4px; overflow: hidden; margin-bottom: 12px;">
                        <div style="width: 100%; height: 100%; background: linear-gradient(90deg, #10b981, #059669);">
                        </div>
                    </div>
                    <div style="font-size: 13px; color: var(--gray-700);">
                        ‚úÖ General Liability - Current<br>
                        ‚úÖ Workers Comp - Current<br>
                        ‚úÖ Vehicle Insurance - Current
                    </div>
                </div>
            </div>

            <div class="modal-footer" style="margin-top: 24px;">
                <button type="button" class="btn btn-secondary"
                    onclick="closeModal('inspection-readiness')">Close</button>
                <button type="button" class="btn" style="background: var(--gray-700); color: white;">üñ®Ô∏è Print
                    Report</button>
                <button type="button" class="btn btn-primary">üìß Email Report</button>
            </div>
        </div>
    </div>

    <!-- New Incident Modal -->
    <div id="new-incident" class="modal">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-header">
                <h2 class="modal-title">Log New Incident üö®</h2>
            </div>
            <form id="new-incident-form" onsubmit="createIncident(event)">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                    <div class="form-group">
                        <label class="form-label">Child Name</label>
                        <input id="incident-child-name" type="text" class="form-input" placeholder="Select child..."
                            required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Incident Type</label>
                        <select id="incident-type" class="form-input" required>
                            <option value="injury">Injury</option>
                            <option value="illness">Illness</option>
                            <option value="behavior">Behavior</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                    <div class="form-group">
                        <label class="form-label">Date</label>
                        <input id="incident-date" type="date" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Time</label>
                        <input id="incident-time" type="time" class="form-input" required>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Location</label>
                    <select id="incident-location" class="form-input" required>
                        <option>Playground</option>
                        <option>Classroom</option>
                        <option>Bathroom</option>
                        <option>Cafeteria</option>
                        <option>Hallway</option>
                        <option>Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Description of Incident</label>
                    <textarea id="incident-description" class="form-input" rows="3"
                        placeholder="Describe what happened in detail..." required></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">First Aid/Action Taken</label>
                    <textarea id="incident-action" class="form-input" rows="2"
                        placeholder="Band-Aid applied, ice pack provided, etc..." required></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">Staff Member(s) Present</label>
                    <input id="incident-staff" type="text" class="form-input" placeholder="Sarah Johnson, Michael Chen"
                        required>
                </div>
                <div class="form-group">
                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                        <input id="incident-notify-parent" type="checkbox" checked>
                        <span class="form-label" style="margin: 0;">Send automatic notification to parent</span>
                    </label>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('new-incident')">Cancel</button>
                    <button id="new-incident-btn" type="submit" class="btn btn-primary">Save & Notify Parent</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Audit Report Modal -->
    <div id="audit-report" class="modal">
        <div class="modal-content" style="max-width: 800px; max-height: 90vh;">
            <div class="modal-header">
                <h2 class="modal-title">Generate Audit Report üìÑ</h2>
                <p style="font-size: 14px; color: var(--gray-700); margin-top: 8px;">Comprehensive compliance package
                    for Texas DFPS inspections</p>
            </div>

            <div
                style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1)); padding: 20px; border-radius: 12px; margin-bottom: 24px;">
                <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 16px;">
                    <div style="font-size: 48px;">‚úÖ</div>
                    <div>
                        <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 4px;">Audit-Ready Status</h3>
                        <p style="font-size: 14px; color: var(--gray-700);">Your facility is 94% compliant with all
                            Texas minimum standards</p>
                    </div>
                </div>
                <div class="progress-bar" style="margin-bottom: 8px;">
                    <div class="progress-fill" style="width: 94%;"></div>
                </div>
                <p style="font-size: 13px; color: var(--gray-700);">1 item needs attention before 100% compliance</p>
            </div>

            <div style="max-height: 400px; overflow-y: auto; margin-bottom: 24px;">
                <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 16px;">Report Will Include:</h3>

                <div style="display: flex; flex-direction: column; gap: 12px;">
                    <div
                        style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px;">
                        <span style="color: var(--success); font-size: 20px;">‚úì</span>
                        <div style="flex: 1;">
                            <strong style="font-size: 14px;">A. Required Postings</strong>
                            <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">License, inspection
                                reports, evacuation diagrams, emergency contacts, employee list</div>
                        </div>
                        <span class="badge badge-complete">Complete</span>
                    </div>

                    <div
                        style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px;">
                        <span style="color: var(--success); font-size: 20px;">‚úì</span>
                        <div style="flex: 1;">
                            <strong style="font-size: 14px;">B. Administration & Records</strong>
                            <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Parent handbooks,
                                admission forms, immunization records, attendance logs, incident reports</div>
                        </div>
                        <span class="badge badge-complete">Complete</span>
                    </div>

                    <div
                        style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px;">
                        <span style="color: var(--warning); font-size: 20px;">‚ö†</span>
                        <div style="flex: 1;">
                            <strong style="font-size: 14px;">C. Personnel & Training</strong>
                            <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Director
                                qualifications, staff orientation, pre-service training, CPR/First Aid certs, annual
                                training hours</div>
                        </div>
                        <span class="badge badge-pending">1 pending</span>
                    </div>

                    <div
                        style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px;">
                        <span style="color: var(--success); font-size: 20px;">‚úì</span>
                        <div style="flex: 1;">
                            <strong style="font-size: 14px;">D. Health & Safety</strong>
                            <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Child/staff ratios,
                                supervision logs, hand hygiene, medication records</div>
                        </div>
                        <span class="badge badge-complete">Complete</span>
                    </div>

                    <div
                        style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px;">
                        <span style="color: var(--success); font-size: 20px;">‚úì</span>
                        <div style="flex: 1;">
                            <strong style="font-size: 14px;">E. Facility Compliance</strong>
                            <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Fire inspection
                                reports, emergency drills, playground inspections, sanitation records</div>
                        </div>
                        <span class="badge badge-complete">Complete</span>
                    </div>

                    <div
                        style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px;">
                        <span style="color: var(--success); font-size: 20px;">‚úì</span>
                        <div style="flex: 1;">
                            <strong style="font-size: 14px;">F. Incident & Illness Documentation</strong>
                            <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Last 3 months of
                                incident reports (8 total), all parent signatures obtained</div>
                        </div>
                        <span class="badge badge-complete">Complete</span>
                    </div>

                    <div
                        style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px;">
                        <span style="color: var(--success); font-size: 20px;">‚úì</span>
                        <div style="flex: 1;">
                            <strong style="font-size: 14px;">G. Medication Administration Records</strong>
                            <div style="font-size: 13px; color: var(--gray-700); margin-top: 4px;">Parent
                                authorizations, original containers, administration logs with dual signatures, secure
                                storage</div>
                        </div>
                        <span class="badge badge-complete">Complete</span>
                    </div>
                </div>
            </div>

            <div style="border-top: 1px solid var(--gray-200); padding-top: 20px;">
                <h3 style="font-size: 14px; font-weight: 600; margin-bottom: 12px;">Export Options:</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px;">
                    <label
                        style="display: flex; align-items: center; gap: 8px; padding: 12px; border: 2px solid var(--gray-200); border-radius: 8px; cursor: pointer;">
                        <input type="radio" name="export-format" checked>
                        <div>
                            <div style="font-size: 14px; font-weight: 600;">PDF Package</div>
                            <div style="font-size: 12px; color: var(--gray-700);">Print or email to inspector</div>
                        </div>
                    </label>
                    <label
                        style="display: flex; align-items: center; gap: 8px; padding: 12px; border: 2px solid var(--gray-200); border-radius: 8px; cursor: pointer;">
                        <input type="radio" name="export-format">
                        <div>
                            <div style="font-size: 14px; font-weight: 600;">Digital Link</div>
                            <div style="font-size: 12px; color: var(--gray-700);">Share secure online link</div>
                        </div>
                    </label>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal('audit-report')">Cancel</button>
                <button type="button" class="btn btn-primary" onclick="generateReport()">Generate Report (5
                    seconds)</button>
            </div>
        </div>
    </div>

    <!-- Add Staff Modal -->
    <div id="add-staff" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Add New Staff Member</h2>
            </div>
            <form id="add-staff-form" onsubmit="addStaff(event)">
                <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <input id="staff-name" type="text" class="form-input" placeholder="John Doe" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Role</label>
                    <input id="staff-role" type="text" class="form-input" placeholder="Teacher" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input id="staff-email" type="email" class="form-input" placeholder="john@example.com" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Hire Date</label>
                    <input id="staff-hire-date" type="date" class="form-input" required>
                </div>

                <!-- Certification Section -->
                <div style="margin-top: 24px; padding-top: 20px; border-top: 1px solid var(--gray-200);">
                    <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 16px; color: var(--gray-800);">üìã
                        Certifications & Credentials</h3>

                    <!-- CDA Credential -->
                    <div class="form-group">
                        <label class="form-label">
                            <input type="checkbox" id="staff-has-cda" onchange="toggleCertificationFields('cda')">
                            Child Development Associate (CDA) Credential
                        </label>
                        <div id="cda-fields" style="display: none; margin-top: 12px; padding-left: 24px;">
                            <div class="form-group">
                                <label class="form-label">CDA Number</label>
                                <input id="staff-cda-number" type="text" class="form-input" placeholder="CDA12345678">
                            </div>
                            <div class="form-group">
                                <label class="form-label">CDA Expiration Date</label>
                                <input id="staff-cda-expiration" type="date" class="form-input">
                            </div>
                        </div>
                    </div>

                    <!-- Teaching Certificate -->
                    <div class="form-group">
                        <label class="form-label">
                            <input type="checkbox" id="staff-has-teaching-cert"
                                onchange="toggleCertificationFields('teaching')">
                            Texas Teaching Certificate
                        </label>
                        <div id="teaching-fields" style="display: none; margin-top: 12px; padding-left: 24px;">
                            <div class="form-group">
                                <label class="form-label">Certificate Number</label>
                                <input id="staff-teaching-number" type="text" class="form-input" placeholder="12345678">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Certificate Type</label>
                                <select id="staff-teaching-type" class="form-input">
                                    <option value="">Select type...</option>
                                    <option value="standard">Standard</option>
                                    <option value="provisional">Provisional</option>
                                    <option value="probationary">Probationary</option>
                                    <option value="emergency">Emergency</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Expiration Date</label>
                                <input id="staff-teaching-expiration" type="date" class="form-input">
                            </div>
                        </div>
                    </div>

                    <!-- Food Handler Certificate -->
                    <div class="form-group">
                        <label class="form-label">
                            <input type="checkbox" id="staff-has-food-handler"
                                onchange="toggleCertificationFields('food')">
                            Texas Food Handler Certificate
                        </label>
                        <div id="food-fields" style="display: none; margin-top: 12px; padding-left: 24px;">
                            <div class="form-group">
                                <label class="form-label">Certificate Number</label>
                                <input id="staff-food-number" type="text" class="form-input" placeholder="FH123456">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Expiration Date</label>
                                <input id="staff-food-expiration" type="date" class="form-input">
                            </div>
                            <small class="form-help">Texas requires food handler certification for staff preparing meals
                                (renewal every 2 years)</small>
                        </div>
                    </div>

                    <!-- CPR/First Aid -->
                    <div class="form-group">
                        <label class="form-label">
                            <input type="checkbox" id="staff-has-cpr" onchange="toggleCertificationFields('cpr')">
                            CPR & First Aid Certification
                        </label>
                        <div id="cpr-fields" style="display: none; margin-top: 12px; padding-left: 24px;">
                            <div class="form-group">
                                <label class="form-label">Certification Type</label>
                                <select id="staff-cpr-type" class="form-input">
                                    <option value="">Select type...</option>
                                    <option value="pediatric">Pediatric CPR/First Aid</option>
                                    <option value="infant">Infant CPR</option>
                                    <option value="adult-child">Adult & Child CPR</option>
                                    <option value="comprehensive">Comprehensive (All Ages)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Certification Provider</label>
                                <input id="staff-cpr-provider" type="text" class="form-input"
                                    placeholder="American Red Cross, AHA, etc.">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Expiration Date</label>
                                <input id="staff-cpr-expiration" type="date" class="form-input">
                            </div>
                            <small class="form-help">Texas requires at least one staff with current certification on
                                premises at all times</small>
                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('add-staff')">Cancel</button>
                    <button id="add-staff-btn" type="submit" class="btn btn-primary">Add Staff Member</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Staff Details Modal -->
    <div id="staff-details" class="modal">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-header">
                <h2 class="modal-title">Staff Member Details</h2>
            </div>
            <div id="staff-details-content" style="padding: 20px 0;">
                <!-- Populated dynamically -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal('staff-details')">Close</button>
                <button type="button" class="btn btn-primary" onclick="editStaffFromDetails()">Edit</button>
                <button type="button" class="btn btn-danger" onclick="confirmDeleteStaff()">Delete</button>
            </div>
        </div>
    </div>

    <!-- Edit Staff Modal -->
    <div id="edit-staff" class="modal">
        <div class="modal-content" style="max-width: 600px; max-height: 90vh; overflow-y: auto;">
            <div class="modal-header">
                <h2 class="modal-title">Edit Staff Member</h2>
            </div>
            <form id="edit-staff-form" onsubmit="updateStaff(event)">
                <input type="hidden" id="edit-staff-id">
                <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <input id="edit-staff-name" type="text" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Role</label>
                    <input id="edit-staff-role" type="text" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input id="edit-staff-email" type="email" class="form-input" required>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('edit-staff')">Cancel</button>
                    <button id="update-staff-btn" type="submit" class="btn btn-primary">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Import Staff CSV Modal -->
    <div id="import-staff-csv" class="modal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h2 class="modal-title">Import Staff from CSV</h2>
            </div>
            <div style="padding: 20px 0;">
                <!-- Step 1: Upload File -->
                <div id="csv-upload-step" class="csv-step">
                    <div style="text-align: center; margin-bottom: 24px;">
                        <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">Step 1: Upload CSV File</h3>
                        <p style="font-size: 14px; color: var(--gray-700);">Upload a CSV file with staff information</p>
                    </div>

                    <!-- Download Template Button -->
                    <div style="text-align: center; margin-bottom: 16px;">
                        <a href="/templates/staff-import-template.csv" download class="btn btn-secondary">
                            üì• Download CSV Template
                        </a>
                    </div>

                    <!-- Drag-Drop Zone -->
                    <div id="csv-drop-zone" class="drop-zone" ondragover="handleCSVDragOver(event)"
                        ondrop="handleCSVDrop(event, 'staff')"
                        onclick="document.getElementById('csv-file-input').click()">
                        <div class="drop-zone-icon">üìÑ</div>
                        <p class="drop-zone-text">Drag and drop your CSV file here</p>
                        <p class="drop-zone-subtext">or click to browse</p>
                        <p style="font-size: 12px; color: var(--gray-600); margin-top: 8px;">CSV files only, max 5MB</p>
                        <input type="file" id="csv-file-input" accept=".csv" style="display: none;"
                            onchange="handleCSVFileSelect(event, 'staff')">
                    </div>

                    <!-- File Preview (shown after selection) -->
                    <div id="csv-file-preview"
                        style="display: none; margin-top: 16px; padding: 16px; background: var(--gray-50); border-radius: 8px;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <span style="font-size: 32px;">üìÑ</span>
                                <div>
                                    <div id="csv-filename" style="font-weight: 600;"></div>
                                    <div id="csv-filesize" style="font-size: 13px; color: var(--gray-700);"></div>
                                </div>
                            </div>
                            <button type="button" class="btn btn-secondary" onclick="removeCSVFile()">Remove</button>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Preview & Validate -->
                <div id="csv-preview-step" class="csv-step" style="display: none;">
                    <div style="text-align: center; margin-bottom: 24px;">
                        <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">Step 2: Review Data</h3>
                        <p style="font-size: 14px; color: var(--gray-700);">Verify the imported data before confirming
                        </p>
                    </div>

                    <!-- Summary Stats -->
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 24px;">
                        <div style="padding: 16px; background: var(--gray-50); border-radius: 8px; text-align: center;">
                            <div id="csv-total-rows" style="font-size: 24px; font-weight: 700; color: var(--gray-900);">
                                0</div>
                            <div style="font-size: 13px; color: var(--gray-700);">Total Rows</div>
                        </div>
                        <div
                            style="padding: 16px; background: var(--success-light); border-radius: 8px; text-align: center;">
                            <div id="csv-valid-rows" style="font-size: 24px; font-weight: 700; color: var(--success);">0
                            </div>
                            <div style="font-size: 13px; color: var(--success);">Valid</div>
                        </div>
                        <div
                            style="padding: 16px; background: var(--danger-light); border-radius: 8px; text-align: center;">
                            <div id="csv-error-rows" style="font-size: 24px; font-weight: 700; color: var(--danger);">0
                            </div>
                            <div style="font-size: 13px; color: var(--danger);">Errors</div>
                        </div>
                    </div>

                    <!-- Preview Table -->
                    <div
                        style="max-height: 400px; overflow: auto; border: 1px solid var(--gray-300); border-radius: 8px;">
                        <table class="table">
                            <thead id="csv-preview-header">
                                <!-- Dynamic headers -->
                            </thead>
                            <tbody id="csv-preview-body">
                                <!-- Dynamic rows -->
                            </tbody>
                        </table>
                    </div>

                    <!-- Error Messages -->
                    <div id="csv-errors" style="margin-top: 16px; display: none;">
                        <h4 style="font-size: 14px; font-weight: 600; color: var(--danger); margin-bottom: 8px;">
                            ‚ö†Ô∏è Validation Errors
                        </h4>
                        <div id="csv-error-list"
                            style="max-height: 150px; overflow: auto; padding: 12px; background: var(--danger-light); border-radius: 8px; font-size: 13px;">
                            <!-- Dynamic error messages -->
                        </div>
                    </div>
                </div>

                <!-- Step 3: Import Progress -->
                <div id="csv-import-step" class="csv-step" style="display: none;">
                    <div style="text-align: center;">
                        <div class="spinner" style="margin: 0 auto 16px;"></div>
                        <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">Importing Staff...</h3>
                        <p id="csv-import-status" style="font-size: 14px; color: var(--gray-700);">Processing 0 of 0
                            rows</p>
                        <div class="progress" style="margin-top: 16px;">
                            <div id="csv-import-progress" class="progress-fill" style="width: 0%;"></div>
                        </div>
                    </div>
                </div>

                <!-- Step 4: Results -->
                <div id="csv-results-step" class="csv-step" style="display: none;">
                    <div style="text-align: center; margin-bottom: 24px;">
                        <div id="csv-results-icon" style="font-size: 64px; margin-bottom: 16px;">‚úÖ</div>
                        <h3 id="csv-results-title" style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">Import
                            Complete!</h3>
                        <p id="csv-results-message" style="font-size: 14px; color: var(--gray-700);"></p>
                    </div>

                    <!-- Results Summary -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                        <div
                            style="padding: 20px; background: var(--success-light); border-radius: 8px; text-align: center;">
                            <div id="csv-success-count"
                                style="font-size: 32px; font-weight: 700; color: var(--success);">0</div>
                            <div style="font-size: 14px; color: var(--success); font-weight: 600;">Successfully Imported
                            </div>
                        </div>
                        <div
                            style="padding: 20px; background: var(--danger-light); border-radius: 8px; text-align: center;">
                            <div id="csv-failure-count"
                                style="font-size: 32px; font-weight: 700; color: var(--danger);">0</div>
                            <div style="font-size: 14px; color: var(--danger); font-weight: 600;">Failed</div>
                        </div>
                    </div>

                    <!-- Failed Rows Detail -->
                    <div id="csv-failed-rows" style="display: none;">
                        <h4 style="font-size: 14px; font-weight: 600; margin-bottom: 12px;">Failed Rows:</h4>
                        <div id="csv-failed-list"
                            style="max-height: 200px; overflow: auto; padding: 12px; background: var(--gray-50); border-radius: 8px; font-size: 13px;">
                            <!-- Failed rows list -->
                        </div>
                        <div style="margin-top: 12px;">
                            <button type="button" class="btn btn-secondary" onclick="downloadCSVErrorReport()">
                                üì• Download Error Report
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" id="csv-back-btn" class="btn btn-secondary" onclick="csvGoBack()"
                    style="display: none;">
                    ‚Üê Back
                </button>
                <button type="button" class="btn btn-secondary" onclick="closeCSVImport()">
                    <span id="csv-cancel-text">Cancel</span>
                </button>
                <button type="button" id="csv-next-btn" class="btn btn-primary" onclick="csvNextStep()" disabled>
                    Next ‚Üí
                </button>
                <button type="button" id="csv-import-btn" class="btn btn-primary" onclick="executeCSVImport('staff')"
                    style="display: none;">
                    Confirm Import
                </button>
                <button type="button" id="csv-done-btn" class="btn btn-primary" onclick="closeCSVImport()"
                    style="display: none;">
                    Done
                </button>
            </div>
        </div>
    </div>

    <!-- Import Medications CSV Modal -->
    <div id="import-medication-csv" class="modal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h2 class="modal-title">Import Medications from CSV</h2>
            </div>
            <div style="padding: 20px 0;">
                <!-- Step 1: Upload File -->
                <div id="csv-med-upload-step" class="csv-step">
                    <div style="text-align: center; margin-bottom: 24px;">
                        <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">Step 1: Upload CSV File</h3>
                        <p style="font-size: 14px; color: var(--gray-700);">Upload a CSV file with medication
                            authorizations</p>
                        <div
                            style="margin-top: 8px; padding: 12px; background: var(--warning-light); border-radius: 8px; border-left: 4px solid var(--warning);">
                            <strong style="color: var(--warning);">‚ö†Ô∏è Texas Compliance:</strong>
                            <span style="font-size: 13px; color: var(--gray-800);"> Maximum 1-year authorization per
                                ¬ß746.2653</span>
                        </div>
                    </div>

                    <!-- Download Template Button -->
                    <div style="text-align: center; margin-bottom: 16px;">
                        <a href="/templates/medications-import-template.csv" download class="btn btn-secondary">
                            üì• Download CSV Template
                        </a>
                    </div>

                    <!-- Drag-Drop Zone -->
                    <div id="csv-med-drop-zone" class="drop-zone" ondragover="handleCSVDragOver(event)"
                        ondrop="handleCSVDrop(event, 'medication')"
                        onclick="document.getElementById('csv-med-file-input').click()">
                        <div class="drop-zone-icon">üìÑ</div>
                        <p class="drop-zone-text">Drag and drop your CSV file here</p>
                        <p class="drop-zone-subtext">or click to browse</p>
                        <p style="font-size: 12px; color: var(--gray-600); margin-top: 8px;">CSV files only, max 5MB</p>
                        <input type="file" id="csv-med-file-input" accept=".csv" style="display: none;"
                            onchange="handleCSVFileSelect(event, 'medication')">
                    </div>

                    <!-- File Preview -->
                    <div id="csv-med-file-preview"
                        style="display: none; margin-top: 16px; padding: 16px; background: var(--gray-50); border-radius: 8px;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <span style="font-size: 32px;">üìÑ</span>
                                <div>
                                    <div id="csv-med-filename" style="font-weight: 600;"></div>
                                    <div id="csv-med-filesize" style="font-size: 13px; color: var(--gray-700);"></div>
                                </div>
                            </div>
                            <button type="button" class="btn btn-secondary" onclick="removeCSVMedFile()">Remove</button>
                        </div>
                    </div>
                </div>

                <!-- Preview/Results steps similar to staff import -->
                <div id="csv-med-preview-step" class="csv-step" style="display: none;">
                    <div style="text-align: center; margin-bottom: 24px;">
                        <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">Step 2: Review Medication
                            Data</h3>
                        <p style="font-size: 14px; color: var(--gray-700);">Verify authorizations before importing</p>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 24px;">
                        <div style="padding: 16px; background: var(--gray-50); border-radius: 8px; text-align: center;">
                            <div id="csv-med-total-rows"
                                style="font-size: 24px; font-weight: 700; color: var(--gray-900);">0</div>
                            <div style="font-size: 13px; color: var(--gray-700);">Total Rows</div>
                        </div>
                        <div
                            style="padding: 16px; background: var(--success-light); border-radius: 8px; text-align: center;">
                            <div id="csv-med-valid-rows"
                                style="font-size: 24px; font-weight: 700; color: var(--success);">0</div>
                            <div style="font-size: 13px; color: var(--success);">Valid</div>
                        </div>
                        <div
                            style="padding: 16px; background: var(--danger-light); border-radius: 8px; text-align: center;">
                            <div id="csv-med-error-rows"
                                style="font-size: 24px; font-weight: 700; color: var(--danger);">0</div>
                            <div style="font-size: 13px; color: var(--danger);">Errors</div>
                        </div>
                    </div>

                    <div
                        style="max-height: 400px; overflow: auto; border: 1px solid var(--gray-300); border-radius: 8px;">
                        <table class="table">
                            <thead id="csv-med-preview-header"></thead>
                            <tbody id="csv-med-preview-body"></tbody>
                        </table>
                    </div>

                    <div id="csv-med-errors" style="margin-top: 16px; display: none;">
                        <h4 style="font-size: 14px; font-weight: 600; color: var(--danger); margin-bottom: 8px;">
                            ‚ö†Ô∏è Validation Errors
                        </h4>
                        <div id="csv-med-error-list"
                            style="max-height: 150px; overflow: auto; padding: 12px; background: var(--danger-light); border-radius: 8px; font-size: 13px;">
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" id="csv-med-back-btn" class="btn btn-secondary" onclick="csvMedGoBack()"
                    style="display: none;">‚Üê Back</button>
                <button type="button" class="btn btn-secondary" onclick="closeCSVMedImport()">
                    <span id="csv-med-cancel-text">Cancel</span>
                </button>
                <button type="button" id="csv-med-next-btn" class="btn btn-primary" onclick="csvMedNextStep()"
                    disabled>Next ‚Üí</button>
                <button type="button" id="csv-med-import-btn" class="btn btn-primary"
                    onclick="executeCSVImport('medication')" style="display: none;">Confirm Import</button>
            </div>
        </div>
    </div>

    <!-- Incident Details Modal -->
    <div id="incident-details" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h2 class="modal-title">Incident Report Details</h2>
            </div>
            <div id="incident-details-content" style="padding: 20px 0;">
                <!-- Populated dynamically -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal('incident-details')">Close</button>
                <button type="button" class="btn btn-primary" onclick="printIncidentReport()">Print Report</button>
                <button type="button" class="btn btn-danger" onclick="confirmDeleteIncident()">Delete</button>
            </div>
        </div>
    </div>

    <!-- Medication Details Modal -->
    <div id="medication-details" class="modal">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-header">
                <h2 class="modal-title">Medication Authorization Details</h2>
            </div>
            <div id="medication-details-content" style="padding: 20px 0;">
                <!-- Populated dynamically -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary"
                    onclick="closeModal('medication-details')">Close</button>
                <button type="button" class="btn btn-primary" onclick="administerFromDetails()">Administer Now</button>
                <button type="button" class="btn btn-danger" onclick="confirmDeleteMedication()">Delete</button>
            </div>
        </div>
    </div>

    <!-- Medication Administration Modal -->
    <div id="administer-medication" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h2 class="modal-title">Administer Medication</h2>
                <p style="font-size: 14px; color: var(--danger); margin-top: 8px;">‚ö†Ô∏è Dual-Staff Verification Required
                    per Texas ¬ß744.2651</p>
            </div>
            <form id="administer-medication-form" onsubmit="recordMedicationAdministration(event)">
                <input type="hidden" id="admin-med-id">

                <div id="admin-med-info"
                    style="background: var(--gray-50); padding: 16px; border-radius: 8px; margin-bottom: 20px;">
                    <!-- Medication info populated dynamically -->
                </div>

                <div class="form-group">
                    <label class="form-label">Administered By (First Staff Member)</label>
                    <input id="admin-by-staff1" type="text" class="form-input" placeholder="Your name" required>
                </div>

                <div class="form-group">
                    <label class="form-label">Verified By (Second Staff Member) *Required*</label>
                    <input id="admin-by-staff2" type="text" class="form-input" placeholder="Witness staff name"
                        required>
                    <small class="form-help">Texas law requires two staff members for medication verification</small>
                </div>

                <div class="form-group">
                    <label class="form-label">Dosage Given</label>
                    <input id="admin-dosage-given" type="text" class="form-input" placeholder="e.g., 5 mL" required>
                </div>

                <div class="form-group">
                    <label class="form-label">Time Administered</label>
                    <input id="admin-time" type="time" class="form-input" required>
                </div>

                <div class="form-group">
                    <label class="form-label">
                        üì∑ Verification Photo
                        <span style="font-size: 12px; color: var(--gray-600); font-weight: 400;">(Recommended per Texas
                            ¬ß746.2655)</span>
                    </label>
                    <div id="med-photo-upload-zone" class="drop-zone"
                        style="border: 2px dashed var(--gray-300); border-radius: 8px; padding: 24px; text-align: center; cursor: pointer; transition: all 0.3s ease;"
                        ondragover="handleMedPhotoDragOver(event)" ondrop="handleMedPhotoDrop(event)"
                        onclick="document.getElementById('med-photo-input').click()">
                        <div style="font-size: 48px; margin-bottom: 12px;">üì∑</div>
                        <div style="font-size: 14px; color: var(--gray-700); font-weight: 500; margin-bottom: 4px;">
                            Click to upload or drag & drop
                        </div>
                        <div style="font-size: 12px; color: var(--gray-600);">
                            Photo of medication container and child (if parent consents)
                        </div>
                        <div style="font-size: 11px; color: var(--gray-500); margin-top: 8px;">
                            PNG, JPG up to 10MB
                        </div>
                    </div>
                    <input type="file" id="med-photo-input" accept="image/*" capture="environment"
                        style="display: none;" onchange="handleMedPhotoSelect(event)">

                    <div id="med-photo-preview"
                        style="display: none; margin-top: 12px; padding: 12px; background: var(--gray-50); border-radius: 8px;">
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <img id="med-photo-thumbnail" src="" alt="Preview"
                                style="width: 80px; height: 80px; object-fit: cover; border-radius: 8px; border: 2px solid var(--gray-300);">
                            <div style="flex: 1;">
                                <div style="font-size: 13px; font-weight: 600; color: var(--gray-800);"
                                    id="med-photo-filename"></div>
                                <div style="font-size: 12px; color: var(--gray-600); margin-top: 2px;"
                                    id="med-photo-filesize"></div>
                                <div style="font-size: 11px; color: var(--success); margin-top: 4px;">‚úì Ready to upload
                                </div>
                            </div>
                            <button type="button" class="btn-icon-small" onclick="removeMedPhoto()"
                                style="background: var(--danger); color: white; border: none; padding: 6px 12px; border-radius: 6px; cursor: pointer; font-size: 12px;">Remove</button>
                        </div>
                    </div>
                    <small class="form-help">Documentation helps verify proper administration and protects staff from
                        liability</small>
                </div>

                <div class="form-group">
                    <label class="form-label">Notes (optional)</label>
                    <textarea id="admin-notes" class="form-input" rows="3"
                        placeholder="Any observations or notes..."></textarea>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary"
                        onclick="closeModal('administer-medication')">Cancel</button>
                    <button id="admin-medication-btn" type="submit" class="btn btn-primary">Record
                        Administration</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Document Details Modal -->
    <div id="document-details" class="modal">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-header">
                <h2 class="modal-title">Document Details</h2>
            </div>
            <div id="document-details-content" style="padding: 20px 0;">
                <!-- Populated dynamically -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal('document-details')">Close</button>
                <button type="button" class="btn btn-primary" onclick="downloadDocumentFromDetails()">Download</button>
                <button type="button" class="btn btn-danger" onclick="confirmDeleteDocument()">Delete</button>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-confirm" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <div class="modal-header">
                <h2 class="modal-title">‚ö†Ô∏è Confirm Deletion</h2>
            </div>
            <div style="padding: 20px 0;">
                <p id="delete-confirm-message" style="font-size: 16px; color: var(--gray-800); margin-bottom: 20px;">
                </p>
                <div style="background: #fee; padding: 16px; border-radius: 8px; border-left: 4px solid var(--danger);">
                    <strong style="color: var(--danger);">Warning:</strong>
                    <p style="margin-top: 8px; font-size: 14px; color: var(--gray-700);">This action cannot be undone.
                        All associated data will be permanently deleted.</p>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal('delete-confirm')">Cancel</button>
                <button id="confirm-delete-btn" type="button" class="btn btn-danger" onclick="executeDelete()">Yes,
                    Delete Permanently</button>
            </div>
        </div>
    </div>

    <!-- Training Completion Modal -->
    <div id="complete-training" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h2 class="modal-title">üìö Complete Training Module</h2>
            </div>
            <form id="training-completion-form" onsubmit="submitTrainingCompletion(event)">
                <div style="padding: 0 20px 20px 20px;">
                    <div
                        style="background: var(--primary-50); padding: 16px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid var(--primary);">
                        <h3 id="training-module-title" style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">
                        </h3>
                        <p id="training-module-description" style="font-size: 14px; color: var(--gray-700);"></p>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="training-staff-select">Select Staff Member *</label>
                        <select id="training-staff-select" class="form-input" required>
                            <option value="">-- Choose a staff member --</option>
                        </select>
                        <small class="form-hint">Select the staff member who completed this training module</small>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="training-completion-date">Completion Date *</label>
                        <input id="training-completion-date" type="date" class="form-input" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="training-hours">Training Hours *</label>
                        <input id="training-hours" type="number" class="form-input" min="0.5" max="24" step="0.5"
                            placeholder="e.g., 2.5" required>
                        <small class="form-hint">How many hours did this training take?</small>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="training-notes">Notes (optional)</label>
                        <textarea id="training-notes" class="form-input" rows="3"
                            placeholder="Additional notes about the training..."></textarea>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary"
                        onclick="closeModal('complete-training')">Cancel</button>
                    <button id="submit-training-btn" type="submit" class="btn btn-primary">Mark as Complete</button>
                </div>
            </form>
        </div>
    </div>

    <!-- PapaParse CSV Library -->
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    
    <!-- Main Application JavaScript -->
    <script src="js/app.js"></script>
</body>

</html>